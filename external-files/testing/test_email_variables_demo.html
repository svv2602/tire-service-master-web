<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö Email —à–∞–±–ª–æ–Ω–æ–≤</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .panel {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .panel h3 {
            margin-top: 0;
            color: #1976d2;
        }
        
        textarea {
            width: 100%;
            height: 300px;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-family: monospace;
            font-size: 14px;
            resize: vertical;
        }
        
        .result {
            background: #f8f9fa;
            border: 2px solid #28a745;
            border-radius: 8px;
            padding: 15px;
            white-space: pre-wrap;
            min-height: 300px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .variables {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .variable-group {
            margin-bottom: 15px;
        }
        
        .variable-group h4 {
            margin: 0 0 10px 0;
            color: #333;
            font-size: 16px;
        }
        
        .variable-chip {
            display: inline-block;
            background: #e3f2fd;
            color: #1565c0;
            padding: 4px 8px;
            margin: 2px;
            border-radius: 16px;
            font-size: 12px;
            font-family: monospace;
            cursor: pointer;
            border: 1px solid #bbdefb;
            transition: all 0.2s;
        }
        
        .variable-chip:hover {
            background: #1565c0;
            color: white;
            transform: scale(1.05);
        }
        
        .example-templates {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .template-button {
            background: #1976d2;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .template-button:hover {
            background: #1565c0;
        }
        
        .info {
            background: #e3f2fd;
            border-left: 4px solid #1976d2;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
        }
        
        .warning {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>üìß –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö Email —à–∞–±–ª–æ–Ω–æ–≤</h1>
    
    <div class="info">
        <strong>–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:</strong><br>
        –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Ñ–∏–≥—É—Ä–Ω—ã—Ö —Å–∫–æ–±–∫–∞—Ö <code>{variable_name}</code> –∑–∞–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –ø–∏—Å—å–º–∞.
        –ö–ª–∏–∫–∞–π—Ç–µ –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∏–∂–µ, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –∏—Ö –≤ —à–∞–±–ª–æ–Ω!
    </div>

    <div class="variables">
        <h3>üéØ –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–∫–ª–∏–∫–∞–π—Ç–µ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è):</h3>
        
        <div class="variable-group">
            <h4>üë§ –ö–ª–∏–µ–Ω—Ç:</h4>
            <span class="variable-chip" onclick="insertVariable('client_name')">{client_name}</span>
            <span class="variable-chip" onclick="insertVariable('client_email')">{client_email}</span>
            <span class="variable-chip" onclick="insertVariable('client_phone')">{client_phone}</span>
        </div>
        
        <div class="variable-group">
            <h4>üìÖ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:</h4>
            <span class="variable-chip" onclick="insertVariable('booking_id')">{booking_id}</span>
            <span class="variable-chip" onclick="insertVariable('booking_date')">{booking_date}</span>
            <span class="variable-chip" onclick="insertVariable('booking_time')">{booking_time}</span>
            <span class="variable-chip" onclick="insertVariable('booking_status')">{booking_status}</span>
        </div>
        
        <div class="variable-group">
            <h4>üè¢ –°–µ—Ä–≤–∏—Å–Ω–∞—è —Ç–æ—á–∫–∞:</h4>
            <span class="variable-chip" onclick="insertVariable('service_point_name')">{service_point_name}</span>
            <span class="variable-chip" onclick="insertVariable('service_point_address')">{service_point_address}</span>
            <span class="variable-chip" onclick="insertVariable('service_point_phone')">{service_point_phone}</span>
        </div>
        
        <div class="variable-group">
            <h4>üîß –£—Å–ª—É–≥–∏:</h4>
            <span class="variable-chip" onclick="insertVariable('service_name')">{service_name}</span>
            <span class="variable-chip" onclick="insertVariable('service_category')">{service_category}</span>
            <span class="variable-chip" onclick="insertVariable('service_price')">{service_price}</span>
        </div>
        
        <div class="variable-group">
            <h4>üöó –ê–≤—Ç–æ–º–æ–±–∏–ª—å:</h4>
            <span class="variable-chip" onclick="insertVariable('car_brand')">{car_brand}</span>
            <span class="variable-chip" onclick="insertVariable('car_model')">{car_model}</span>
            <span class="variable-chip" onclick="insertVariable('license_plate')">{license_plate}</span>
        </div>
        
        <div class="variable-group">
            <h4>üè≠ –°–∏—Å—Ç–µ–º–∞:</h4>
            <span class="variable-chip" onclick="insertVariable('company_name')">{company_name}</span>
            <span class="variable-chip" onclick="insertVariable('support_email')">{support_email}</span>
            <span class="variable-chip" onclick="insertVariable('website_url')">{website_url}</span>
        </div>
        
        <div class="variable-group">
            <h4>‚ú® –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ (–ø—Ä–∏–º–µ—Ä—ã —Å–≤–æ–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö):</h4>
            <span class="variable-chip" onclick="insertVariable('weather_warning')">{weather_warning}</span>
            <span class="variable-chip" onclick="insertVariable('current_promotion')">{current_promotion}</span>
            <span class="variable-chip" onclick="insertVariable('assigned_master')">{assigned_master}</span>
        </div>
    </div>

    <div class="example-templates">
        <h3>üìã –ì–æ—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã (–∫–ª–∏–∫–∞–π—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏):</h3>
        <button class="template-button" onclick="loadTemplate('booking_confirmation')">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</button>
        <button class="template-button" onclick="loadTemplate('booking_reminder')">–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ</button>
        <button class="template-button" onclick="loadTemplate('booking_cancelled')">–û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</button>
        <button class="template-button" onclick="loadTemplate('service_completed')">–£—Å–ª—É–≥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞</button>
    </div>

    <div class="container">
        <div class="panel">
            <h3>‚úèÔ∏è –®–∞–±–ª–æ–Ω —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏</h3>
            <textarea id="template" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à email —à–∞–±–ª–æ–Ω —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏...
            
–ü—Ä–∏–º–µ—Ä:
–®–∞–Ω–æ–≤–Ω–∏–π(–∞) {client_name}!

–í–∞—à–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ:
üìÖ –î–∞—Ç–∞: {booking_date}
üïí –ß–∞—Å: {booking_time}
üè¢ –¢–æ—á–∫–∞: {service_point_name}

–ó –ø–æ–≤–∞–≥–æ—é,
{company_name}" oninput="processTemplate()">–®–∞–Ω–æ–≤–Ω–∏–π(–∞) {client_name}!

–í–∞—à–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ:

üìÖ –î–∞—Ç–∞: {booking_date}
üïí –ß–∞—Å: {booking_time}
üè¢ –¢–æ—á–∫–∞: {service_point_name}
üìç –ê–¥—Ä–µ—Å–∞: {service_point_address}
üöó –ê–≤—Ç–æ–º–æ–±—ñ–ª—å: {car_brand} {car_model}

üîß –ü–æ—Å–ª—É–≥–∞: {service_name}
üí∞ –í–∞—Ä—Ç—ñ—Å—Ç—å: {service_price}

{current_promotion}

üìû –¢–µ–ª–µ—Ñ–æ–Ω: {service_point_phone}
üåê –°–∞–π—Ç: {website_url}

–ó –ø–æ–≤–∞–≥–æ—é,
{company_name}</textarea>
        </div>
        
        <div class="panel">
            <h3>üìß –†–µ–∑—É–ª—å—Ç–∞—Ç (–∫–∞–∫ —É–≤–∏–¥–∏—Ç –∫–ª–∏–µ–Ω—Ç)</h3>
            <div id="result" class="result"></div>
        </div>
    </div>

    <div class="warning">
        <strong>‚ö†Ô∏è –í–∞–∂–Ω–æ –∑–Ω–∞—Ç—å:</strong><br>
        ‚Ä¢ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Ñ–∏–≥—É—Ä–Ω—ã—Ö —Å–∫–æ–±–∫–∞—Ö: <code>{variable_name}</code><br>
        ‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –±—É–∫–≤—ã –∏ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è<br>
        ‚Ä¢ –†–µ–≥–∏—Å—Ç—Ä –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ: <code>{Client_Name}</code> ‚â† <code>{client_name}</code><br>
        ‚Ä¢ –ü—Ä–æ–±–µ–ª—ã –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã: <code>{client name}</code> - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
    </div>

    <script>
        const mockData = {
            client_name: '–Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ',
            client_email: 'ivan.petrenko@example.com',
            client_phone: '+38 (067) 123-45-67',
            booking_id: '#12345',
            booking_date: '25.07.2025',
            booking_time: '14:30',
            booking_status: '–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ',
            booking_notes: '–î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–æ–±–∞–∂–∞–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞',
            service_point_name: '–°–¢–û –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π',
            service_point_address: '–≤—É–ª. –•—Ä–µ—â–∞—Ç–∏–∫, 1, –ö–∏—ó–≤',
            service_point_phone: '+38 (044) 123-45-67',
            service_point_city: '–ö–∏—ó–≤',
            service_name: '–ó–∞–º—ñ–Ω–∞ —à–∏–Ω',
            service_category: '–®–∏–Ω–æ–º–æ–Ω—Ç–∞–∂',
            service_price: '1200 –≥—Ä–Ω',
            service_duration: '60 —Ö–≤–∏–ª–∏–Ω',
            car_brand: 'Toyota',
            car_model: 'Camry',
            car_year: '2020',
            license_plate: '–ê–ê1234–í–í',
            company_name: 'Tire Service Master',
            support_email: 'support@tireservice.ua',
            support_phone: '+38 (044) 111-22-33',
            website_url: 'https://tireservice.ua',
            weather_warning: '‚ö†Ô∏è –£–≤–∞–≥–∞! –ó–∞–≤—Ç—Ä–∞ –æ—á—ñ–∫—É—î—Ç—å—Å—è –¥–æ—â. –†–µ–∫–æ–º–µ–Ω–¥—É—î–º–æ –∑–∏–º–æ–≤—ñ —à–∏–Ω–∏.',
            current_promotion: 'üéâ –ó–Ω–∏–∂–∫–∞ 15% –Ω–∞ –±–∞–ª–∞–Ω—Å—É–≤–∞–Ω–Ω—è –ø—Ä–∏ –∑–∞–º—ñ–Ω—ñ —à–∏–Ω!',
            assigned_master: 'üë®‚Äçüîß –í–∞—à –º–∞–π—Å—Ç–µ—Ä: –û–ª–µ–∫—Å–∞–Ω–¥—Ä –Ü–≤–∞–Ω–æ–≤–∏—á (—Å—Ç–∞–∂ 10 —Ä–æ–∫—ñ–≤)'
        };

        const templates = {
            booking_confirmation: `–¢–µ–º–∞: –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∑–∞–ø–∏—Å—É - {service_name}

–®–∞–Ω–æ–≤–Ω–∏–π(–∞) {client_name}!

–í–∞—à–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è —É—Å–ø—ñ—à–Ω–æ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ:

üìÖ –î–∞—Ç–∞: {booking_date}
üïí –ß–∞—Å: {booking_time}
üè¢ –¢–æ—á–∫–∞: {service_point_name}
üìç –ê–¥—Ä–µ—Å–∞: {service_point_address}
üöó –ê–≤—Ç–æ–º–æ–±—ñ–ª—å: {car_brand} {car_model} ({license_plate})

üîß –ü–æ—Å–ª—É–≥–∞: {service_name}
üí∞ –í–∞—Ä—Ç—ñ—Å—Ç—å: {service_price}

{current_promotion}

{weather_warning}

üìû –¢–µ–ª–µ—Ñ–æ–Ω —Å–µ—Ä–≤—ñ—Å—É: {service_point_phone}
üåê –ù–∞—à —Å–∞–π—Ç: {website_url}

–ó –ø–æ–≤–∞–≥–æ—é,
{company_name}`,

            booking_reminder: `–¢–µ–º–∞: –ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è: –∑–∞–≤—Ç—Ä–∞ —É –≤–∞—Å –∑–∞–ø–∏—Å - {service_name}

{client_name}, –Ω–µ –∑–∞–±—É–¥—å—Ç–µ!

–ó–∞–≤—Ç—Ä–∞ —É –≤–∞—Å –∑–∞–ø–∏—Å:
üìÖ {booking_date} –æ {booking_time}
üè¢ {service_point_name}

{assigned_master}

üìû –¢–µ–ª–µ—Ñ–æ–Ω –¥–ª—è –∑–≤'—è–∑–∫—É: {service_point_phone}`,

            booking_cancelled: `–¢–µ–º–∞: –°–∫–∞—Å—É–≤–∞–Ω–Ω—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è {booking_id}

–®–∞–Ω–æ–≤–Ω–∏–π(–∞) {client_name}!

–ù–∞ –∂–∞–ª—å, –≤–∞—à–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –±—É–ª–æ —Å–∫–∞—Å–æ–≤–∞–Ω–æ:

üìÖ –î–∞—Ç–∞: {booking_date}
üïí –ß–∞—Å: {booking_time}
üè¢ –¢–æ—á–∫–∞: {service_point_name}
üîß –ü–æ—Å–ª—É–≥–∞: {service_name}

–î–ª—è –Ω–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É –∑–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –Ω–∞—Å:
üìû {service_point_phone}
üåê {website_url}

–í–∏–±–∞—á—Ç–µ –∑–∞ –Ω–µ–∑—Ä—É—á–Ω–æ—Å—Ç—ñ!
{company_name}`,

            service_completed: `–¢–µ–º–∞: –ü–æ—Å–ª—É–≥—É –≤–∏–∫–æ–Ω–∞–Ω–æ - {service_name}

–®–∞–Ω–æ–≤–Ω–∏–π(–∞) {client_name}!

–î—è–∫—É—î–º–æ, —â–æ –æ–±—Ä–∞–ª–∏ –Ω–∞—à —Å–µ—Ä–≤—ñ—Å!

‚úÖ –í–∏–∫–æ–Ω–∞–Ω–æ: {service_name}
üìÖ –î–∞—Ç–∞: {booking_date}
üöó –ê–≤—Ç–æ–º–æ–±—ñ–ª—å: {car_brand} {car_model}

{assigned_master}

–ë—É–¥–µ–º–æ —Ä–∞–¥—ñ –±–∞—á–∏—Ç–∏ –≤–∞—Å –∑–Ω–æ–≤—É!
üìû {service_point_phone}
üåê {website_url}

–ó –ø–æ–≤–∞–≥–æ—é,
{company_name}`
        };

        function insertVariable(variable) {
            const textarea = document.getElementById('template');
            const cursorPos = textarea.selectionStart;
            const textBefore = textarea.value.substring(0, cursorPos);
            const textAfter = textarea.value.substring(cursorPos);
            
            textarea.value = textBefore + '{' + variable + '}' + textAfter;
            textarea.focus();
            textarea.setSelectionRange(cursorPos + variable.length + 2, cursorPos + variable.length + 2);
            
            processTemplate();
        }

        function loadTemplate(templateName) {
            document.getElementById('template').value = templates[templateName];
            processTemplate();
        }

        function processTemplate() {
            const template = document.getElementById('template').value;
            let result = template;
            
            // –ó–∞–º–µ–Ω—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
            Object.entries(mockData).forEach(([key, value]) => {
                const regex = new RegExp(`\\{${key}\\}`, 'g');
                result = result.replace(regex, value);
            });
            
            // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –Ω–µ–∑–∞–º–µ–Ω–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
            result = result.replace(/\{([^}]+)\}/g, '<span style="background: #ffeb3b; padding: 2px 4px; border-radius: 3px; color: #f57c00; font-weight: bold;">{$1}</span>');
            
            document.getElementById('result').innerHTML = result;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        processTemplate();
    </script>
</body>
</html> 