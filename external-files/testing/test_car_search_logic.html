<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –ª–æ–≥–∏–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; }
        .test-case { 
            margin: 15px 0; 
            padding: 15px; 
            border: 1px solid #ddd; 
            border-radius: 5px; 
            background: #f9f9f9; 
        }
        .query { font-weight: bold; color: #333; margin-bottom: 10px; }
        .result { font-size: 14px; }
        .car-search { color: #2196F3; font-weight: bold; }
        .tire-search { color: #4CAF50; font-weight: bold; }
        .excluded { color: #FF9800; font-weight: bold; }
        .details { font-size: 12px; color: #666; margin-top: 5px; }
        h1 { color: #1976d2; text-align: center; }
        h2 { color: #333; border-bottom: 2px solid #1976d2; padding-bottom: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç –¢–µ—Å—Ç –ª–æ–≥–∏–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞</h1>
        
        <h2>–ó–∞–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –î–û–õ–ñ–ù–´ –∏–¥—Ç–∏ –∫–∞–∫ –æ–±—ã—á–Ω—ã–π –ø–æ–∏—Å–∫ —à–∏–Ω</h2>
        <div id="tire-search-tests"></div>
        
        <h2>–ó–∞–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –î–û–õ–ñ–ù–´ –∏–¥—Ç–∏ –∫–∞–∫ –ø–æ–∏—Å–∫ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π</h2>
        <div id="car-search-tests"></div>
    </div>

    <script>
        // –ö–æ–ø–∏—Ä—É–µ–º –ª–æ–≥–∏–∫—É –∏–∑ TireSearchPage
        function isCarSearchQuery(query) {
            const normalizedQuery = query.toLowerCase().trim();
            
            // –ò–°–ö–õ–Æ–ß–ï–ù–ò–Ø: –∑–∞–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –ù–ï –¥–æ–ª–∂–Ω—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è –∫–∞–∫ –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã–µ
            
            // 1. –ï—Å–ª–∏ –µ—Å—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —à–∏–Ω (175/65R16, 205/55r17)
            const hasTireSize = /\b\d{3}\/\d{2}r?\d{2}\b/i.test(normalizedQuery);
            if (hasTireSize) {
                return { result: false, reason: '–ù–∞–π–¥–µ–Ω —Ä–∞–∑–º–µ—Ä —à–∏–Ω—ã' };
            }
            
            // 2. –ï—Å–ª–∏ –µ—Å—Ç—å –¥–∏–∞–º–µ—Ç—Ä—ã R13-R24 (—à–∏–Ω—ã –Ω–∞ —Ç–∏–≥—É–∞–Ω –Ω–∞ 19, —Ä–µ–∑–∏–Ω–∞ r16)
            const hasDiameter = /\b(–Ω–∞\s+)?(r?\d{2}|–¥–∏–∞–º–µ—Ç—Ä\s+\d{2})\b/i.test(normalizedQuery);
            if (hasDiameter) {
                return { result: false, reason: '–ù–∞–π–¥–µ–Ω –¥–∏–∞–º–µ—Ç—Ä' };
            }
            
            // 3. –ï—Å–ª–∏ –µ—Å—Ç—å —á–∏—Å–ª–∞ –ø–æ—Å–ª–µ "–Ω–∞" –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –¥–∏–∞–º–µ—Ç—Ä–∞–º–∏ (13-24)
            const hasNumberAfterNa = /\b–Ω–∞\s+(1[3-9]|2[0-4])\b/.test(normalizedQuery);
            if (hasNumberAfterNa) {
                return { result: false, reason: '–ù–∞–π–¥–µ–Ω–æ —á–∏—Å–ª–æ –ø–æ—Å–ª–µ "–Ω–∞" (–¥–∏–∞–º–µ—Ç—Ä)' };
            }
            
            // 4. –ï—Å–ª–∏ –µ—Å—Ç—å –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ —à–∏–Ω
            const hasSizeKeywords = /\b(—à–∏—Ä–∏–Ω–∞|–≤—ã—Å–æ—Ç–∞|–ø—Ä–æ—Ñ–∏–ª—å|–¥–∏–∞–º–µ—Ç—Ä)\b/.test(normalizedQuery);
            if (hasSizeKeywords) {
                return { result: false, reason: '–ù–∞–π–¥–µ–Ω—ã –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ —Ä–∞–∑–º–µ—Ä–æ–≤' };
            }
            
            // –ü–†–û–í–ï–†–ö–ê –ù–ê –ê–í–¢–û–ú–û–ë–ò–õ–¨–ù–´–ô –ó–ê–ü–†–û–°
            
            // –¢–æ—á–Ω—ã–µ –º–∞—Ä–∫–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ—Ç —Ä–∞–∑–º–µ—Ä–æ–≤)
            const carBrands = ['mercedes', '–º–µ—Ä—Å–µ–¥–µ—Å', 'bmw', '–±–º–≤', 'audi', '–∞—É–¥–∏', 'toyota', '—Ç–æ–π–æ—Ç–∞', 
                             'volkswagen', '—Ñ–æ–ª—å–∫—Å–≤–∞–≥–µ–Ω', 'vw', 'nissan', '–Ω–∏—Å—Å–∞–Ω', 'honda', '—Ö–æ–Ω–¥–∞',
                             'hyundai', '—Ö—É–Ω–¥–∞–π', 'kia', '–∫–∏–∞', 'mazda', '–º–∞–∑–¥–∞', 'ford', '—Ñ–æ—Ä–¥',
                             'chevrolet', '—à–µ–≤—Ä–æ–ª–µ', 'skoda', '—à–∫–æ–¥–∞', 'volvo', '–≤–æ–ª—å–≤–æ', '–≤–∞–∑', 'vaz',
                             '–ª–∞–¥–∞', 'lada', '–≥–∞–∑', 'gaz', '—É–∞–∑', 'uaz'];
            
            // –¢–æ—á–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ—Ç —Ä–∞–∑–º–µ—Ä–æ–≤)
            const carModels = ['x5', 'x3', 'x1', 'q5', 'q7', 'gle', 'glc', 'gla', 'c-class', 'e-class',
                              's-class', 'passat', '–ø–∞—Å—Å–∞—Ç', 'golf', '–≥–æ–ª—å—Ñ', 'polo', '–ø–æ–ª–æ', 
                              'jetta', '–¥–∂–µ—Ç—Ç–∞', 'camry', '–∫–∞–º—Ä–∏', 'corolla', '–∫–æ—Ä–æ–ª–ª–∞',
                              'rav4', '—Ä–∞–≤4', 'prius', '–ø—Ä–∏—É—Å', 'accord', '–∞–∫–∫–æ—Ä–¥', 'civic', '—Ü–∏–≤–∏–∫',
                              'crv', 'cr-v', 'outlander', '–∞—É—Ç–ª–µ–Ω–¥–µ—Ä', 'lancer', '–ª–∞–Ω—Å–µ—Ä'];
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –º–∞—Ä–æ–∫ –∏–ª–∏ –º–æ–¥–µ–ª–µ–π –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
            const hasBrand = carBrands.some(brand => normalizedQuery.includes(brand));
            const hasModel = carModels.some(model => normalizedQuery.includes(model));
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ (–ë–ï–ó —Ä–∞–∑–º–µ—Ä–æ–≤)
            const hasYear = /\b(19[8-9]\d|20[0-3]\d)\b/.test(normalizedQuery);
            
            // –í–æ–∑–≤—Ä–∞—â–∞–µ–º true —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å —á–µ—Ç–∫–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—è –ë–ï–ó —Ä–∞–∑–º–µ—Ä–æ–≤
            const isCarSearch = (hasBrand || hasModel) && hasYear;
            
            let reason = '';
            if (isCarSearch) {
                reason = '–ù–∞–π–¥–µ–Ω—ã: ';
                if (hasBrand) reason += '–º–∞—Ä–∫–∞ ';
                if (hasModel) reason += '–º–æ–¥–µ–ª—å ';
                if (hasYear) reason += '–≥–æ–¥';
            } else {
                reason = '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞';
            }
            
            return { result: isCarSearch, reason };
        }

        // –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ —à–∏–Ω
        const tireSearchQueries = [
            "—à–∏–Ω—ã –Ω–∞ —Ç–∏–≥—É–∞–Ω –Ω–∞ 19",
            "—Ä–µ–∑–∏–Ω–∞ –Ω–∞ —Ç–∏–≥—É–∞–Ω –Ω–∞ 20",
            "—à–∏–Ω—ã –Ω–∞ —Ñ–æ–ª—å–∫—Å–≤–∞–≥–µ–Ω –Ω–∞ 18",
            "–∫–æ–ª–µ—Å–∞ –Ω–∞ –º–µ—Ä—Å–µ–¥–µ—Å –Ω–∞ 17", 
            "175/65R14",
            "205/55R16 –∑–∏–º–Ω–∏–µ",
            "—à–∏–Ω—ã 225/60R17",
            "—Ä–µ–∑–∏–Ω–∞ R16",
            "—à–∏–Ω—ã –¥–∏–∞–º–µ—Ç—Ä 18",
            "—Ç–∏–≥—É–∞–Ω —à–∏–Ω—ã",
            "—à–∏–Ω—ã bmw",
            "—Ä–µ–∑–∏–Ω–∞ –º–µ—Ä—Å–µ–¥–µ—Å",
            "–∑–∏–º–Ω–∏–µ —à–∏–Ω—ã",
            "–ª–µ—Ç–Ω–∏–µ —à–∏–Ω—ã 19",
            "—à–∏–Ω—ã –ø—Ä–æ—Ñ–∏–ª—å 55",
            "—à–∏—Ä–∏–Ω–∞ 225 –≤—ã—Å–æ—Ç–∞ 60"
        ];

        // –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π  
        const carSearchQueries = [
            "–º–µ—Ä—Å–µ–¥–µ—Å gle 2020",
            "–º–µ—Ä—Å–µ–¥–µ—Å gle-class 2020",
            "bmw x5 2019",
            "audi q5 2021",
            "toyota camry 2018",
            "volkswagen passat 2020",
            "mercedes e-class 2022",
            "–ª–∞–¥–∞ –≥—Ä–∞–Ω—Ç–∞ 2020"
        ];

        function renderTestCases(queries, containerId, expectedResult) {
            const container = document.getElementById(containerId);
            
            queries.forEach(query => {
                const testResult = isCarSearchQuery(query);
                const isCorrect = testResult.result === expectedResult;
                
                const div = document.createElement('div');
                div.className = 'test-case';
                div.innerHTML = `
                    <div class="query">üìù "${query}"</div>
                    <div class="result">
                        –†–µ–∑—É–ª—å—Ç–∞—Ç: <span class="${testResult.result ? 'car-search' : 'tire-search'}">
                            ${testResult.result ? 'üöó –ü–æ–∏—Å–∫ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π' : 'üîß –ü–æ–∏—Å–∫ —à–∏–Ω'}
                        </span>
                        ${isCorrect ? '‚úÖ' : '‚ùå'}
                    </div>
                    <div class="details">üí° ${testResult.reason}</div>
                `;
                
                if (!isCorrect) {
                    div.style.border = '2px solid #f44336';
                    div.style.background = '#ffebee';
                }
                
                container.appendChild(div);
            });
        }

        // –†–µ–Ω–¥–µ—Ä–∏–º —Ç–µ—Å—Ç—ã
        renderTestCases(tireSearchQueries, 'tire-search-tests', false);
        renderTestCases(carSearchQueries, 'car-search-tests', true);
        
        // –ü–æ–¥—Å—á–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        setTimeout(() => {
            const allTests = document.querySelectorAll('.test-case');
            const correctTests = Array.from(allTests).filter(test => 
                test.innerHTML.includes('‚úÖ')
            ).length;
            
            const summary = document.createElement('div');
            summary.innerHTML = `
                <h2>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
                <div style="font-size: 18px; text-align: center; padding: 20px; background: #e3f2fd; border-radius: 8px;">
                    <strong>–ü—Ä–æ–π–¥–µ–Ω–æ: ${correctTests} –∏–∑ ${allTests.length} —Ç–µ—Å—Ç–æ–≤</strong>
                    <br>
                    –¢–æ—á–Ω–æ—Å—Ç—å: ${Math.round((correctTests / allTests.length) * 100)}%
                </div>
            `;
            document.querySelector('.container').appendChild(summary);
        }, 100);
    </script>
</body>
</html>