<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç ActionsMenu –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .test-section h3 {
            margin-top: 0;
            color: #333;
        }
        .status {
            padding: 8px 16px;
            border-radius: 4px;
            font-weight: bold;
            margin: 10px 0;
        }
        .status.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .status.warning {
            background-color: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        .code-block {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 12px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 10px 0;
        }
        .test-button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 10px 10px 10px 0;
        }
        .test-button:hover {
            background-color: #0056b3;
        }
        .test-button.secondary {
            background-color: #6c757d;
        }
        .test-button.secondary:hover {
            background-color: #545b62;
        }
        .checklist {
            list-style-type: none;
            padding: 0;
        }
        .checklist li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        .checklist li:before {
            content: "‚òê ";
            margin-right: 10px;
            color: #999;
        }
        .checklist li.checked:before {
            content: "‚úÖ ";
            color: #28a745;
        }
        .url-box {
            background-color: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 4px;
            padding: 10px;
            margin: 10px 0;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß™ –¢–µ—Å—Ç ActionsMenu –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h1>
        <p><strong>–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:</strong> <span id="currentDate"></span></p>
        
        <div class="url-box">
            <strong>üîó URL –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</strong> 
            <a href="http://localhost:3008/admin/users" target="_blank">http://localhost:3008/admin/users</a>
        </div>

        <div class="test-section">
            <h3>üìã –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ ActionsMenu</h3>
            <ul class="checklist">
                <li id="check-page-loads">–°—Ç—Ä–∞–Ω–∏—Ü–∞ /admin/users –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫</li>
                <li id="check-table-visible">–¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è</li>
                <li id="check-actions-column">–ö–æ–ª–æ–Ω–∫–∞ "–î–µ–π—Å—Ç–≤–∏—è" –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ</li>
                <li id="check-actions-menu">ActionsMenu –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–µ</li>
                <li id="check-edit-button">–ö–Ω–æ–ø–∫–∞ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" (—Å–∏–Ω—è—è –∏–∫–æ–Ω–∫–∞ –∫–∞—Ä–∞–Ω–¥–∞—à–∞) –≤–∏–¥–Ω–∞</li>
                <li id="check-status-button">–ö–Ω–æ–ø–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –≤–∏–¥–Ω–∞ (–∫—Ä–∞—Å–Ω–∞—è/–∑–µ–ª–µ–Ω–∞—è)</li>
                <li id="check-button-hover">–ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø–æ–¥—Å–∫–∞–∑–∫–∏</li>
                <li id="check-edit-click">–ö–ª–∏–∫ –ø–æ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" –≤–µ–¥–µ—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</li>
                <li id="check-status-click">–ö–ª–∏–∫ –ø–æ –∏–∑–º–µ–Ω–µ–Ω–∏—é —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</li>
                <li id="check-no-console-errors">–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–µ—Ç –æ—à–∏–±–æ–∫ React/TypeScript</li>
            </ul>
        </div>

        <div class="test-section">
            <h3>üîç –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ</h3>
            <div class="status warning">
                <strong>‚ö†Ô∏è –í–∞–∂–Ω–æ:</strong> –ï—Å–ª–∏ ActionsMenu –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ:
            </div>
            
            <h4>1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–ª–æ–Ω–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π:</h4>
            <div class="code-block">
{
  id: 'actions',
  label: '–î–µ–π—Å—Ç–≤–∏—è',
  align: 'center',
  minWidth: 120,
  format: (_value: any, row: User) => (
    &lt;ActionsMenu actions={userActions} item={row} /&gt;
  )
}
            </div>

            <h4>2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π:</h4>
            <div class="code-block">
const userActions: ActionItem&lt;User&gt;[] = useMemo(() => [
  {
    id: 'edit',
    label: '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',
    icon: &lt;EditIcon /&gt;,
    onClick: (user: User) => handleEdit(user),
    color: 'primary',
  },
  {
    id: 'toggle-status',
    label: (user: User) => user.is_active ? '–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å' : '–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å',
    icon: (user: User) => user.is_active ? &lt;DeleteIcon /&gt; : &lt;RestoreIcon /&gt;,
    onClick: (user: User) => user.is_active ? handleDeactivate(user) : handleToggleStatus(user),
    color: (user: User) => user.is_active ? 'error' : 'success',
    requireConfirmation: true,
    confirmationConfig: { ... }
  }
], [handleEdit, handleDeactivate, handleToggleStatus]);
            </div>

            <h4>3. –ò–º–ø–æ—Ä—Ç—ã:</h4>
            <div class="code-block">
import { ActionsMenu } from '../../components/ui';
import type { ActionItem } from '../../components/ui';
            </div>
        </div>

        <div class="test-section">
            <h3>üêõ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è</h3>
            
            <h4>–ü—Ä–æ–±–ª–µ–º–∞ 1: ActionsMenu –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è</h4>
            <div class="status error">
                <strong>–ü—Ä–∏—á–∏–Ω–∞:</strong> –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è
            </div>
            <div class="code-block">
// –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
// Cannot resolve module 'ActionsMenu'
// –∏–ª–∏
// ActionsMenu is not a function
            </div>
            
            <h4>–ü—Ä–æ–±–ª–µ–º–∞ 2: –ö–Ω–æ–ø–∫–∏ –Ω–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã</h4>
            <div class="status error">
                <strong>–ü—Ä–∏—á–∏–Ω–∞:</strong> –û—à–∏–±–∫–∏ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö onClick
            </div>
            <div class="code-block">
// –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏:
// handleEdit is not a function
// handleDeactivate is not a function
            </div>
            
            <h4>–ü—Ä–æ–±–ª–µ–º–∞ 3: –ö–æ–ª–æ–Ω–∫–∞ –ø—É—Å—Ç–∞—è</h4>
            <div class="status error">
                <strong>–ü—Ä–∏—á–∏–Ω–∞:</strong> userActions –ø—É—Å—Ç–æ–π –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω
            </div>
            <div class="code-block">
// –î–æ–±–∞–≤—å—Ç–µ –æ—Ç–ª–∞–¥–∫—É:
console.log('userActions:', userActions);
console.log('visibleActions:', actions.filter(action => 
  action.isVisible ? action.isVisible(item) : true
));
            </div>
        </div>

        <div class="test-section">
            <h3>üéØ –î–µ–π—Å—Ç–≤–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
            <button class="test-button" onclick="openUsersPage()">
                üîó –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
            </button>
            <button class="test-button secondary" onclick="openDevTools()">
                üîß –û—Ç–∫—Ä—ã—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
            </button>
            <button class="test-button secondary" onclick="checkConsole()">
                üìù –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å
            </button>
        </div>

        <div class="test-section">
            <h3>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
            <div id="test-results">
                <p>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫–∏ –≤—ã—à–µ –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è...</p>
            </div>
        </div>
    </div>

    <script>
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É
        document.getElementById('currentDate').textContent = new Date().toLocaleString('ru-RU');

        function openUsersPage() {
            window.open('http://localhost:3008/admin/users', '_blank');
            updateResults('–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ—Ç–∫—Ä—ã—Ç–∞ –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ');
        }

        function openDevTools() {
            alert('–ù–∞–∂–º–∏—Ç–µ F12 –∏–ª–∏ Ctrl+Shift+I –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞');
            updateResults('–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ—Ç–∫—Ä—ã—Ç–∏—é DevTools –ø–æ–∫–∞–∑–∞–Ω–∞');
        }

        function checkConsole() {
            const instructions = `
–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ –∫–æ–Ω—Å–æ–ª–∏:

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É http://localhost:3008/admin/users
2. –ù–∞–∂–º–∏—Ç–µ F12 –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è DevTools
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Console"
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ (–∫—Ä–∞—Å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è)
5. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞:
   - –û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - –û—à–∏–±–∫–∏ TypeScript
   - –û—à–∏–±–∫–∏ React —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
   - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:
- "Cannot resolve module 'ActionsMenu'"
- "ActionsMenu is not a function"
- "handleEdit is not defined"
- "userActions is not defined"
            `;
            alert(instructions);
            updateResults('–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ –∫–æ–Ω—Å–æ–ª–∏ –ø–æ–∫–∞–∑–∞–Ω—ã');
        }

        function updateResults(message) {
            const resultsDiv = document.getElementById('test-results');
            const timestamp = new Date().toLocaleTimeString('ru-RU');
            resultsDiv.innerHTML += `<p><strong>[${timestamp}]</strong> ${message}</p>`;
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ–∫-–ª–∏—Å—Ç–∞
        function markChecked(id) {
            const element = document.getElementById(id);
            if (element) {
                element.classList.add('checked');
            }
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        function checkPageAvailability() {
            fetch('http://localhost:3008/admin/users', { method: 'HEAD' })
                .then(response => {
                    if (response.ok) {
                        markChecked('check-page-loads');
                        updateResults('‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ /admin/users –¥–æ—Å—Ç—É–ø–Ω–∞');
                    } else {
                        updateResults('‚ùå –°—Ç—Ä–∞–Ω–∏—Ü–∞ /admin/users –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ (—Å—Ç–∞—Ç—É—Å: ' + response.status + ')');
                    }
                })
                .catch(error => {
                    updateResults('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã: ' + error.message);
                });
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', () => {
            setTimeout(checkPageAvailability, 1000);
        });
    </script>
</body>
</html> 