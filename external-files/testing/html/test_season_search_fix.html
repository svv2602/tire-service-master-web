<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞ —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-section {
            margin-bottom: 25px;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
        }
        .test-section h3 {
            margin-top: 0;
            color: #1976d2;
            border-bottom: 2px solid #1976d2;
            padding-bottom: 10px;
        }
        .test-case {
            margin: 15px 0;
            padding: 15px;
            background-color: #f8f9fa;
            border-left: 4px solid #28a745;
            border-radius: 4px;
        }
        .test-input {
            font-family: monospace;
            background-color: #e9ecef;
            padding: 8px 12px;
            border-radius: 4px;
            margin: 5px 0;
            font-weight: bold;
        }
        .expected {
            color: #28a745;
            font-weight: bold;
            margin: 5px 0;
        }
        .problem {
            color: #dc3545;
            font-weight: bold;
            background-color: #f8d7da;
            padding: 8px 12px;
            border-radius: 4px;
            margin: 5px 0;
        }
        .fixed {
            color: #28a745;
            font-weight: bold;
            background-color: #d4edda;
            padding: 8px 12px;
            border-radius: 4px;
            margin: 5px 0;
        }
        .status {
            padding: 8px 16px;
            border-radius: 4px;
            font-weight: bold;
            margin: 10px 0;
        }
        .status.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 15px 0;
        }
        .before, .after {
            padding: 15px;
            border: 2px solid;
            border-radius: 8px;
        }
        .before {
            border-color: #dc3545;
            background-color: #f8d7da;
        }
        .after {
            border-color: #28a745;
            background-color: #d4edda;
        }
        .test-simulator {
            background-color: #e3f2fd;
            border: 1px solid #1976d2;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .test-simulator h4 {
            color: #1976d2;
            margin-top: 0;
        }
        .search-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
            margin: 10px 0;
        }
        .result-chip {
            display: inline-block;
            padding: 6px 12px;
            margin: 5px;
            background-color: #1976d2;
            color: white;
            border-radius: 16px;
            font-size: 0.875rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏: "–ª–µ", "–ª–µ—Ç" –∏ —É–∫—Ä–∞–∏–Ω—Å–∫–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã</h1>
        
        <div class="status success">
            ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ—Ä–æ—Ç–∫–∏–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–∏—Å–∫–∞
        </div>

        <!-- –ü—Ä–æ–±–ª–µ–º–∞ –∏ —Ä–µ—à–µ–Ω–∏–µ -->
        <div class="test-section">
            <h3>üö® –ü—Ä–æ–±–ª–µ–º–∞</h3>
            <div class="problem">
                –ü—Ä–∏ –ø–æ–∏—Å–∫–µ "–ª–µ—Ç", "–ª–µ" –∏ —É–∫—Ä–∞–∏–Ω—Å–∫–∏—Ö —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–ª —Ñ–∏–ª—å—Ç—Ä —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏
            </div>
            
            <div class="comparison">
                <div class="before">
                    <h4>‚ùå –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:</h4>
                    <div class="test-input">"–ª–µ—Ç" ‚Üí –Ω–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞</div>
                    <div class="test-input">"–ª–µ" ‚Üí –Ω–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞</div>
                    <div class="test-input">"–ª—ñ—Ç" ‚Üí –Ω–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞</div>
                    <div>–û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –∫–æ—Ä–æ—Ç–∫–∏–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è</div>
                </div>
                <div class="after">
                    <h4>‚úÖ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:</h4>
                    <div class="test-input">"–ª–µ—Ç" ‚Üí season=summer</div>
                    <div class="test-input">"–ª–µ" ‚Üí season=summer</div>
                    <div class="test-input">"–ª—ñ—Ç" ‚Üí season=summer</div>
                    <div>–î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ—Ä–æ—Ç–∫–∏–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è</div>
                </div>
            </div>
        </div>

        <!-- –ù–æ–≤—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è -->
        <div class="test-section">
            <h3>‚ûï –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è</h3>
            
            <div class="test-case">
                <h4>üá∑üá∫ –†—É—Å—Å–∫–∏–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è:</h4>
                <div class="test-input">'–∑–∏–º': 'winter' (–±—ã–ª–æ: –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª)</div>
                <div class="test-input">'–ª–µ—Ç': 'summer' (–±—ã–ª–æ: –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª)</div>
                <div class="test-input">'–ª–µ': 'summer' (–±—ã–ª–æ: –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª)</div>
                <div class="expected">‚Üí –¢–µ–ø–µ—Ä—å –ø–æ–∏—Å–∫ "–ª–µ—Ç —à–∏–Ω—ã" –Ω–∞–π–¥–µ—Ç –ª–µ—Ç–Ω–∏–µ —à–∏–Ω—ã</div>
            </div>

            <div class="test-case">
                <h4>üá∫üá¶ –£–∫—Ä–∞–∏–Ω—Å–∫–∏–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è:</h4>
                <div class="test-input">'–ª—ñ—Ç–Ω': 'summer' (–±—ã–ª–æ: —É–¥–∞–ª–µ–Ω –ø–æ –æ—à–∏–±–∫–µ)</div>
                <div class="test-input">'–ª—ñ—Ç': 'summer' (–±—ã–ª–æ: –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª)</div>
                <div class="expected">‚Üí –¢–µ–ø–µ—Ä—å –ø–æ–∏—Å–∫ "–ª—ñ—Ç —à–∏–Ω–∏" –Ω–∞–π–¥–µ—Ç –ª–µ—Ç–Ω–∏–µ —à–∏–Ω—ã</div>
            </div>
        </div>

        <!-- –°–∏–º—É–ª—è—Ç–æ—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
        <div class="test-simulator">
            <h4>üß™ –°–∏–º—É–ª—è—Ç–æ—Ä –ø–æ–∏—Å–∫–∞ —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏</h4>
            <p>–í–≤–µ–¥–∏—Ç–µ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:</p>
            <input type="text" class="search-input" id="searchInput" placeholder="–í–≤–µ–¥–∏—Ç–µ: –ª–µ—Ç, –ª–µ, –ª—ñ—Ç, –∑–∏–º, –∏ —Ç.–¥." oninput="testSearch()">
            <div id="searchResult"></div>
        </div>

        <!-- –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ -->
        <div class="test-section">
            <h3>üìã –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤</h3>
            
            <div class="test-case">
                <h4>üå®Ô∏è –ó–∏–º–Ω–∏–µ —à–∏–Ω—ã (winter):</h4>
                <div class="test-input">
                    <strong>–†—É—Å—Å–∫–∏–π:</strong> –∑–∏–º–Ω–∏–µ, –∑–∏–º–Ω—è—è, –∑–∏–º–Ω–∏–π, –∑–∏–º–∞, –∑–∏–º–Ω, –∑–∏–º, –∑–∏–º–Ω–∏—Ö, –∑–∏–º–æ–π, –∑–∏–º–Ω–µ, –∑–∏–º–∫—É<br>
                    <strong>–£–∫—Ä–∞–∏–Ω—Å–∫–∏–π:</strong> –∑–∏–º–æ–≤—ñ, –∑–∏–º–æ–≤–∞, –∑–∏–º–æ–≤–∏–π, –∑–∏–º–æ–≤–∏—Ö, –∑–∏–º–æ–≤–æ—é, –∑–∏–º–æ–≤–µ
                </div>
            </div>

            <div class="test-case">
                <h4>‚òÄÔ∏è –õ–µ—Ç–Ω–∏–µ —à–∏–Ω—ã (summer):</h4>
                <div class="test-input">
                    <strong>–†—É—Å—Å–∫–∏–π:</strong> –ª–µ—Ç–Ω–∏–µ, –ª–µ—Ç–Ω—è—è, –ª–µ—Ç–Ω–∏–π, –ª–µ—Ç–æ, –ª–µ—Ç–Ω, –ª–µ—Ç, –ª–µ, –ª–µ—Ç–Ω–∏—Ö, –ª–µ—Ç–æ–º, –ª–µ—Ç–Ω–µ<br>
                    <strong>–£–∫—Ä–∞–∏–Ω—Å–∫–∏–π:</strong> –ª—ñ—Ç–Ω—ñ, –ª—ñ—Ç–Ω—è, –ª—ñ—Ç–Ω—ñ–π, –ª—ñ—Ç–æ, –ª—ñ—Ç–Ω, –ª—ñ—Ç, –ª—ñ—Ç–Ω—ñ—Ö, –ª—ñ—Ç–Ω—å–æ—é, –ª—ñ—Ç–Ω—î
                </div>
            </div>

            <div class="test-case">
                <h4>üîÑ –í—Å–µ—Å–µ–∑–æ–Ω–Ω—ã–µ —à–∏–Ω—ã (all_season):</h4>
                <div class="test-input">
                    <strong>–†—É—Å—Å–∫–∏–π:</strong> –≤—Å–µ—Å–µ–∑–æ–Ω–Ω—ã–µ, –≤—Å–µ—Å–µ–∑–æ–Ω–Ω–∞—è, –≤—Å–µ—Å–µ–∑–æ–Ω–Ω—ã–π, –≤—Å–µ—Å–µ–∑–æ–Ω, –≤—Å–µ—Å–µ–∑–æ–Ω–∫–∞, –≤—Å–µ—Å–µ–∑–æ–Ω–Ω—ã—Ö, –≤—Å–µ—Å–µ–∑–æ–Ω–Ω—ã–º–∏, –∫—Ä—É–≥–ª–æ–≥–æ–¥–∏—á–Ω—ã–µ, –∫—Ä—É–≥–ª–æ–≥–æ–¥–∏—á–Ω–∞—è, –∫—Ä—É–≥–ª–æ–≥–æ–¥–∏—á–Ω—ã–π<br>
                    <strong>–£–∫—Ä–∞–∏–Ω—Å–∫–∏–π:</strong> –≤—Å–µ—Å–µ–∑–æ–Ω–Ω—ñ, –≤—Å–µ—Å–µ–∑–æ–Ω–Ω–∞, –≤—Å–µ—Å–µ–∑–æ–Ω–Ω–∏–π, –≤—Å–µ—Å–µ–∑–æ–Ω–Ω–∏—Ö, –≤—Å–µ—Å–µ–∑–æ–Ω–Ω–∏–º–∏, —Ü—ñ–ª–æ—Ä—ñ—á–Ω—ñ, —Ü—ñ–ª–æ—Ä—ñ—á–Ω–∞, —Ü—ñ–ª–æ—Ä—ñ—á–Ω–∏–π
                </div>
            </div>
        </div>

        <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é -->
        <div class="test-section">
            <h3>üß™ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é</h3>
            
            <div class="test-case">
                <h4>–¢–µ—Å—Ç 1: –ö–æ—Ä–æ—Ç–∫–∏–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è</h4>
                <ol>
                    <li>–û—Ç–∫—Ä–æ–π—Ç–µ <code>/client/tire-offers</code></li>
                    <li>–í–≤–µ–¥–∏—Ç–µ –≤ –ø–æ–∏—Å–∫: <code>"–ª–µ—Ç"</code></li>
                    <li>–î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è —á–∏–ø: <span class="result-chip">–°–µ–∑–æ–Ω: –õ–µ—Ç–Ω–∏–µ</span></li>
                    <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network: –∑–∞–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å <code>season=summer</code></li>
                </ol>
            </div>

            <div class="test-case">
                <h4>–¢–µ—Å—Ç 2: –û—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–∏–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è</h4>
                <ol>
                    <li>–í–≤–µ–¥–∏—Ç–µ –≤ –ø–æ–∏—Å–∫: <code>"–ª–µ —à–∏–Ω—ã 225/60R16"</code></li>
                    <li>–î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è —á–∏–ø: <span class="result-chip">–°–µ–∑–æ–Ω: –õ–µ—Ç–Ω–∏–µ</span></li>
                    <li>–†–∞–∑–º–µ—Ä –∏ —Å–µ–∑–æ–Ω –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ</li>
                </ol>
            </div>

            <div class="test-case">
                <h4>–¢–µ—Å—Ç 3: –£–∫—Ä–∞–∏–Ω—Å–∫–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã</h4>
                <ol>
                    <li>–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ —è–∑—ã–∫ –Ω–∞ —É–∫—Ä–∞–∏–Ω—Å–∫–∏–π</li>
                    <li>–í–≤–µ–¥–∏—Ç–µ –≤ –ø–æ–∏—Å–∫: <code>"–ª—ñ—Ç"</code></li>
                    <li>–î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è —á–∏–ø: <span class="result-chip">–°–µ–∑–æ–Ω: –õ—ñ—Ç–Ω—ñ</span></li>
                    <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API –∑–∞–ø—Ä–æ—Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π</li>
                </ol>
            </div>

            <div class="test-case">
                <h4>–¢–µ—Å—Ç 4: –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫</h4>
                <ol>
                    <li>–í–≤–µ–¥–∏—Ç–µ: <code>"–∑–∏–º michelin 235/55R18"</code></li>
                    <li>–î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —á–∏–ø—ã –¥–ª—è —Ä–∞–∑–º–µ—Ä–∞, –±—Ä–µ–Ω–¥–∞ –∏ —Å–µ–∑–æ–Ω–∞</li>
                    <li>–í—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ</li>
                </ol>
            </div>
        </div>

        <div class="status success">
            üéâ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ! –ü–æ–∏—Å–∫ –ø–æ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è–º "–ª–µ", "–ª–µ—Ç", "–ª—ñ—Ç" —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.
        </div>
    </div>

    <script>
        // –°–∏–º—É–ª—è—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ convertSeasonForAPI
        function convertSeasonForAPI(season) {
            const seasonMap = {
                // –†—É—Å—Å–∫–∏–π
                '–∑–∏–º–Ω–∏–µ': 'winter', '–∑–∏–º–Ω—è—è': 'winter', '–∑–∏–º–Ω–∏–π': 'winter',
                '–∑–∏–º–∞': 'winter', '–∑–∏–º–Ω': 'winter', '–∑–∏–º': 'winter',
                '–ª–µ—Ç–Ω–∏–µ': 'summer', '–ª–µ—Ç–Ω—è—è': 'summer', '–ª–µ—Ç–Ω–∏–π': 'summer',
                '–ª–µ—Ç–æ': 'summer', '–ª–µ—Ç–Ω': 'summer', '–ª–µ—Ç': 'summer', '–ª–µ': 'summer',
                '–≤—Å–µ—Å–µ–∑–æ–Ω–Ω—ã–µ': 'all_season', '–≤—Å–µ—Å–µ–∑–æ–Ω': 'all_season', '–≤—Å–µ—Å–µ–∑–æ–Ω–∫–∞': 'all_season',
                
                // –£–∫—Ä–∞–∏–Ω—Å–∫–∏–π
                '–∑–∏–º–æ–≤—ñ': 'winter', '–∑–∏–º–æ–≤–∞': 'winter', '–∑–∏–º–æ–≤–∏–π': 'winter',
                '–ª—ñ—Ç–Ω—ñ': 'summer', '–ª—ñ—Ç–Ω—è': 'summer', '–ª—ñ—Ç–Ω—ñ–π': 'summer',
                '–ª—ñ—Ç–æ': 'summer', '–ª—ñ—Ç–Ω': 'summer', '–ª—ñ—Ç': 'summer',
                '–≤—Å–µ—Å–µ–∑–æ–Ω–Ω—ñ': 'all_season', '—Ü—ñ–ª–æ—Ä—ñ—á–Ω—ñ': 'all_season',
                
                // –ê–Ω–≥–ª–∏–π—Å–∫–∏–π
                'winter': 'winter', 'summer': 'summer', 'all_season': 'all_season'
            };
            return seasonMap[season.toLowerCase()] || null;
        }

        function testSearch() {
            const input = document.getElementById('searchInput').value;
            const result = document.getElementById('searchResult');
            
            if (!input.trim()) {
                result.innerHTML = '';
                return;
            }

            const words = input.toLowerCase().split(/[\s\/]+/).filter(word => word.length > 0);
            const seasonResults = [];
            
            for (const word of words) {
                const season = convertSeasonForAPI(word);
                if (season) {
                    const seasonLabels = {
                        'winter': '–ó–∏–º–Ω–∏–µ',
                        'summer': '–õ–µ—Ç–Ω–∏–µ', 
                        'all_season': '–í—Å–µ—Å–µ–∑–æ–Ω–Ω—ã–µ'
                    };
                    seasonResults.push(`<span class="result-chip">–°–µ–∑–æ–Ω: ${seasonLabels[season]}</span>`);
                }
            }
            
            if (seasonResults.length > 0) {
                result.innerHTML = `<div style="margin-top: 10px;"><strong>‚úÖ –ù–∞–π–¥–µ–Ω–æ:</strong><br>${seasonResults.join('')}</div>`;
            } else {
                result.innerHTML = `<div style="margin-top: 10px; color: #666;">–°–µ–∑–æ–Ω–Ω–æ—Å—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ –∑–∞–ø—Ä–æ—Å–µ "${input}"</div>`;
            }
        }
    </script>
</body>
</html>