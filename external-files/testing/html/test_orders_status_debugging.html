<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –æ—Ç–ª–∞–¥–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.6;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
        }
        .test-section h3 {
            color: #333;
            margin-top: 0;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        .problem-description {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .solution {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 15px;
            margin: 10px 0;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 14px;
            overflow-x: auto;
        }
        .debug-info {
            background: #e3f2fd;
            border: 1px solid #bbdefb;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
        .status-comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .status-card {
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid;
        }
        .status-card.submitted {
            background: #cce5ff;
            border-color: #007bff;
        }
        .status-card.draft {
            background: #fff3cd;
            border-color: #ffc107;
        }
        .status-card.confirmed {
            background: #d4edda;
            border-color: #28a745;
        }
        .status-card.processing {
            background: #ffeaa7;
            border-color: #fd7e14;
        }
        .checklist {
            list-style: none;
            padding: 0;
        }
        .checklist li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        .checklist li:before {
            content: "üîç ";
            color: #667eea;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîç –¢–µ—Å—Ç –æ—Ç–ª–∞–¥–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤</h1>
            <p>–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∑–∞–∫–∞–∑–æ–≤ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω" –≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö</p>
            <p><strong>–°—Ç—Ä–∞–Ω–∏—Ü–∞:</strong> /client/orders</p>
            <p><strong>–î–∞—Ç–∞:</strong> <span id="currentDate"></span></p>
        </div>

        <div class="test-section">
            <h3>üö® –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã</h3>
            
            <div class="problem-description">
                <h4>–ü—Ä–æ–±–ª–µ–º–∞:</h4>
                <p><strong>–ó–∞–∫–∞–∑—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω" –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∑–∞–∫–ª–∞–¥–∫–µ "–ê–∫—Ç–∏–≤–Ω—ã–µ"</strong></p>
                
                <ul>
                    <li>–í –∑–∞–∫–ª–∞–¥–∫–µ "–í—Å–µ –∑–∞–∫–∞–∑—ã" –≤–∏–¥–Ω—ã –∑–∞–∫–∞–∑—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω"</li>
                    <li>–í –∑–∞–∫–ª–∞–¥–∫–µ "–ê–∫—Ç–∏–≤–Ω—ã–µ" —ç—Ç–∏ –∂–µ –∑–∞–∫–∞–∑—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è</li>
                    <li>–§–∏–ª—å—Ç—Ä –∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–∫–ª—é—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å 'submitted', –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω"</li>
                    <li>–í–æ–∑–º–æ–∂–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –º–∞–ø–ø–∏–Ω–≥–æ–º —Å—Ç–∞—Ç—É—Å–æ–≤ –∏–ª–∏ API —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π</li>
                </ul>
            </div>
        </div>

        <div class="test-section">
            <h3>üîß –î–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞</h3>
            
            <div class="solution">
                <h4>–î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</h4>
                <p>–í OrdersPage –¥–æ–±–∞–≤–ª–µ–Ω—ã console.log –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º—ã</p>
            </div>

            <div class="debug-info">
                <h5>–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ –∫–æ–Ω—Å–æ–ª–∏:</h5>
                <div class="code-block">
// –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–≤
React.useEffect(() => {
  console.log('üîç OrdersPage Query Params:', {
    currentTab,
    statusFilter: statusFilters[currentTab],
    queryParams,
    isAuthenticated,
    isInitialized
  });
  
  if (orders.length > 0) {
    console.log('üîç OrdersPage Orders:', {
      ordersCount: orders.length,
      orderStatuses: orders.map(order => ({
        id: order.id,
        status: order.status,
        status_display: order.status_display
      }))
    });
  } else {
    console.log('üîç OrdersPage: No orders found for current tab');
  }
}, [orders, currentTab, statusFilters, queryParams, isAuthenticated, isInitialized]);
                </div>
            </div>
        </div>

        <div class="test-section">
            <h3>üìä –¢–µ–∫—É—â–∏–π —Ñ–∏–ª—å—Ç—Ä —Å—Ç–∞—Ç—É—Å–æ–≤</h3>
            
            <div class="debug-info">
                <h5>–§–∏–ª—å—Ç—Ä –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤:</h5>
                <div class="code-block">
const statusFilters = [
  '', // –í—Å–µ –∑–∞–∫–∞–∑—ã
  'draft,submitted,confirmed,processing', // –ê–∫—Ç–∏–≤–Ω—ã–µ (–≤–∫–ª—é—á–∞—è –Ω–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã)
  'completed', // –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ
  'cancelled', // –û—Ç–º–µ–Ω–µ–Ω–Ω—ã–µ
  'archived' // –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
];
                </div>
            </div>

            <div class="status-comparison">
                <div class="status-card draft">
                    <h4>draft</h4>
                    <p>–ß–µ—Ä–Ω–æ–≤–∏–∫</p>
                    <small>‚úÖ –í–∫–ª—é—á–µ–Ω –≤ –∞–∫—Ç–∏–≤–Ω—ã–µ</small>
                </div>
                <div class="status-card submitted">
                    <h4>submitted</h4>
                    <p>–û—Ç–ø—Ä–∞–≤–ª–µ–Ω</p>
                    <small>‚úÖ –í–∫–ª—é—á–µ–Ω –≤ –∞–∫—Ç–∏–≤–Ω—ã–µ</small>
                </div>
                <div class="status-card confirmed">
                    <h4>confirmed</h4>
                    <p>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω</p>
                    <small>‚úÖ –í–∫–ª—é—á–µ–Ω –≤ –∞–∫—Ç–∏–≤–Ω—ã–µ</small>
                </div>
                <div class="status-card processing">
                    <h4>processing</h4>
                    <p>–í –æ–±—Ä–∞–±–æ—Ç–∫–µ</p>
                    <small>‚úÖ –í–∫–ª—é—á–µ–Ω –≤ –∞–∫—Ç–∏–≤–Ω—ã–µ</small>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h3>üß™ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ</h3>
            
            <div class="debug-info">
                <h5>–®–∞–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º—ã:</h5>
                <ol>
                    <li>–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É <code>/client/orders</code></li>
                    <li>–û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (F12)</li>
                    <li>–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–í—Å–µ –∑–∞–∫–∞–∑—ã"</li>
                    <li><strong>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏:</strong> –∫–∞–∫–∏–µ —Å—Ç–∞—Ç—É—Å—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç API</li>
                    <li>–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ê–∫—Ç–∏–≤–Ω—ã–µ"</li>
                    <li><strong>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏:</strong> –∫–∞–∫–æ–π —Ñ–∏–ª—å—Ç—Ä –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∏ –∫–∞–∫–∏–µ –∑–∞–∫–∞–∑—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è</li>
                    <li>–°—Ä–∞–≤–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤ –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏</li>
                    <li>–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –ø–æ—á–µ–º—É –∑–∞–∫–∞–∑—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "submitted" –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –∞–∫—Ç–∏–≤–Ω—ã–µ</li>
                </ol>
            </div>

            <div class="debug-info">
                <h5>–ß—Ç–æ –∏—Å–∫–∞—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏:</h5>
                <ul class="checklist">
                    <li><strong>Query Params:</strong> –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä —Å—Ç–∞—Ç—É—Å–æ–≤</li>
                    <li><strong>Orders:</strong> –∫–∞–∫–∏–µ —Å—Ç–∞—Ç—É—Å—ã —É –∑–∞–∫–∞–∑–æ–≤ (status vs status_display)</li>
                    <li><strong>Status Filter:</strong> —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ —Ñ–∏–ª—å—Ç—Ä –æ–∂–∏–¥–∞–µ–º–æ–º—É</li>
                    <li><strong>API Response:</strong> –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –ª–∏ –∑–∞–∫–∞–∑—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏</li>
                </ul>
            </div>
        </div>

        <div class="test-section">
            <h3>üîç –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã</h3>
            
            <div class="debug-info">
                <h5>–ì–∏–ø–æ—Ç–µ–∑—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:</h5>
                <ul>
                    <li><strong>–ú–∞–ø–ø–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–æ–≤:</strong> API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å—ã –Ω–∞ —É–∫—Ä–∞–∏–Ω—Å–∫–æ–º, –∞ —Ñ–∏–ª—å—Ç—Ä –∏—â–µ—Ç –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ</li>
                    <li><strong>API —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è:</strong> Backend –Ω–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º</li>
                    <li><strong>–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:</strong> RTK Query –∫—ç—à–∏—Ä—É–µ—Ç —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ</li>
                    <li><strong>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:</strong> –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞–∫–∞–∑–∞–º</li>
                    <li><strong>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:</strong> –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏</li>
                </ul>
            </div>

            <div class="debug-info">
                <h5>–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç–ª–∞–¥–∫–∏:</h5>
                <ul class="checklist">
                    <li>–í –∫–æ–Ω—Å–æ–ª–∏ –≤–∏–¥–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –≤–∫–ª–∞–¥–∫–∏</li>
                    <li>–í–∏–¥–Ω—ã —Å—Ç–∞—Ç—É—Å—ã –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤ (status –∏ status_display)</li>
                    <li>–ú–æ–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏—Ç—å, –∫–∞–∫–∏–µ –∑–∞–∫–∞–∑—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –≤–∫–ª–∞–¥–∫–∞—Ö</li>
                    <li>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞, –ø–æ—á–µ–º—É "submitted" –∑–∞–∫–∞–∑—ã –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –∞–∫—Ç–∏–≤–Ω—ã–µ</li>
                </ul>
            </div>
        </div>

        <div class="test-section">
            <h3>üìà –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏</h3>
            
            <div class="solution">
                <h4>–ü–æ—Å–ª–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:</h4>
                <ol>
                    <li>–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–æ—á–Ω—É—é –ø—Ä–∏—á–∏–Ω—É –ø—Ä–æ–±–ª–µ–º—ã –∏–∑ –∫–æ–Ω—Å–æ–ª–∏</li>
                    <li>–ò—Å–ø—Ä–∞–≤–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–æ–≤ –∏–ª–∏ API —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é</li>
                    <li>–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</li>
                    <li>–£–±—Ä–∞—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞</li>
                </ol>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('currentDate').textContent = new Date().toLocaleString('ru-RU');
    </script>
</body>
</html>