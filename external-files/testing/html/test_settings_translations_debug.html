<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –ø–µ—Ä–µ–≤–æ–¥–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            background: #f5f5f5; 
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            border-left: 4px solid #2196F3;
        }
        .error { border-left-color: #f44336; }
        .success { border-left-color: #4caf50; }
        .warning { border-left-color: #ff9800; }
        .code {
            background: #f1f1f1;
            padding: 10px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
        }
        .json-key {
            color: #1976d2;
            font-weight: bold;
        }
        .json-value {
            color: #388e3c;
        }
        button {
            background: #2196F3;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #1976d2;
        }
    </style>
</head>
<body>
    <h1>üîß –¢–µ—Å—Ç –ø–µ—Ä–µ–≤–æ–¥–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫</h1>
    
    <div class="test-section warning">
        <h2>‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞</h2>
        <p>–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ <code>localhost:3008/admin/settings</code> –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–ª—é—á–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π:</p>
        <div class="code">
            admin.settings.tabs.general<br>
            admin.settings.tabs.notifications<br>
            admin.settings.sections.basic<br>
            admin.settings.fields.systemName
        </div>
    </div>

    <div class="test-section">
        <h2>üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã JSON</h2>
        <p>–ü—Ä–æ–≤–µ—Ä–∏–º —á—Ç–æ —Å–µ–∫—Ü–∏—è settings –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ admin:</p>
        <div class="code">
            <span class="json-key">"admin":</span> {<br>
            &nbsp;&nbsp;...<br>
            &nbsp;&nbsp;<span class="json-key">"settings":</span> {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span class="json-key">"title":</span> <span class="json-value">"–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"</span>,<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span class="json-key">"tabs":</span> {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="json-key">"general":</span> <span class="json-value">"–û–±—â–∏–µ"</span>,<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="json-key">"notifications":</span> <span class="json-value">"–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"</span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;}<br>
            &nbsp;&nbsp;}<br>
            }
        </div>
    </div>

    <div class="test-section">
        <h2>üß™ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã</h2>
        <ol>
            <li><strong>–ö—ç—à –±—Ä–∞—É–∑–µ—Ä–∞:</strong> –°—Ç–∞—Ä—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–Ω—ã</li>
            <li><strong>–ö—ç—à i18next:</strong> i18next –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é –ø–µ—Ä–µ–≤–æ–¥–æ–≤</li>
            <li><strong>Hot reload:</strong> –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ JSON —Ñ–∞–π–ª–∞—Ö –º–æ–≥—É—Ç –Ω–µ –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</li>
            <li><strong>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON:</strong> –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å —Å–µ–∫—Ü–∏–π</li>
        </ol>
    </div>

    <div class="test-section">
        <h2>üîß –®–∞–≥–∏ —Ä–µ—à–µ–Ω–∏—è</h2>
        <ol>
            <li>
                <strong>–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞:</strong>
                <button onclick="clearBrowserCache()">–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à</button>
            </li>
            <li>
                <strong>–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:</strong>
                <div class="code">Ctrl+C ‚Üí npm start</div>
            </li>
            <li>
                <strong>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:</strong>
                <button onclick="checkConsole()">–û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Å–æ–ª—å</button>
            </li>
            <li>
                <strong>–ñ–µ—Å—Ç–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞:</strong>
                <button onclick="hardReload()">Ctrl+Shift+R</button>
            </li>
        </ol>
    </div>

    <div class="test-section">
        <h2>üìù –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —Å–ø–∏—Å–æ–∫</h2>
        <div id="checklist">
            <label><input type="checkbox"> JSON —Ñ–∞–π–ª—ã –≤–∞–ª–∏–¥–Ω—ã</label><br>
            <label><input type="checkbox"> –°–µ–∫—Ü–∏—è settings –≤–Ω—É—Ç—Ä–∏ admin</label><br>
            <label><input type="checkbox"> –°–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω</label><br>
            <label><input type="checkbox"> –ö—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ –æ—á–∏—â–µ–Ω</label><br>
            <label><input type="checkbox"> –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞ –Ω–∞ –æ—à–∏–±–∫–∏</label><br>
            <label><input type="checkbox"> –ñ–µ—Å—Ç–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞</label><br>
        </div>
    </div>

    <div class="test-section">
        <h2>üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h2>
        <p>–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è:</p>
        <div class="code">
            <span class="json-value">–û–±—â–∏–µ</span> (–≤–º–µ—Å—Ç–æ admin.settings.tabs.general)<br>
            <span class="json-value">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span> (–≤–º–µ—Å—Ç–æ admin.settings.tabs.notifications)<br>
            <span class="json-value">–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</span> (–≤–º–µ—Å—Ç–æ admin.settings.sections.basic)<br>
            <span class="json-value">–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã</span> (–≤–º–µ—Å—Ç–æ admin.settings.fields.systemName)
        </div>
    </div>

    <script>
        function clearBrowserCache() {
            if (confirm('–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞? –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–∫—Ä—ã—Ç—å –¥—Ä—É–≥–∏–µ –≤–∫–ª–∞–¥–∫–∏.')) {
                // –ü–æ–ø—ã—Ç–∫–∞ –æ—á–∏—Å—Ç–∏—Ç—å –∫—ç—à
                if ('caches' in window) {
                    caches.keys().then(names => {
                        names.forEach(name => {
                            caches.delete(name);
                        });
                    });
                }
                localStorage.clear();
                sessionStorage.clear();
                alert('–ö—ç—à –æ—á–∏—â–µ–Ω! –¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.');
            }
        }

        function checkConsole() {
            alert('–ù–∞–∂–º–∏—Ç–µ F12 –∏–ª–∏ Ctrl+Shift+I –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–æ–Ω—Å–æ–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.\n–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∫–ª–∞–¥–∫—É Console –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ i18next.');
        }

        function hardReload() {
            alert('–ù–∞–∂–º–∏—Ç–µ Ctrl+Shift+R –¥–ª—è –∂–µ—Å—Ç–∫–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.\n–≠—Ç–æ –∑–∞—Å—Ç–∞–≤–∏—Ç –±—Ä–∞—É–∑–µ—Ä –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã –∑–∞–Ω–æ–≤–æ.');
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ i18next
        window.addEventListener('load', function() {
            setTimeout(function() {
                if (typeof window.i18next !== 'undefined') {
                    console.log('‚úÖ i18next –∑–∞–≥—Ä—É–∂–µ–Ω');
                    console.log('üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ —è–∑—ã–∫–∏:', window.i18next.languages);
                    console.log('üåç –¢–µ–∫—É—â–∏–π —è–∑—ã–∫:', window.i18next.language);
                    
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª—é—á–µ–π
                    const testKeys = [
                        'admin.settings.title',
                        'admin.settings.tabs.general',
                        'admin.settings.sections.basic',
                        'admin.settings.fields.systemName'
                    ];
                    
                    console.log('üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–µ–π –ø–µ—Ä–µ–≤–æ–¥–æ–≤:');
                    testKeys.forEach(key => {
                        const value = window.i18next.t(key);
                        console.log(`${key}: "${value}"`);
                        if (value === key) {
                            console.error(`‚ùå –ö–ª—é—á ${key} –Ω–µ –Ω–∞–π–¥–µ–Ω!`);
                        } else {
                            console.log(`‚úÖ –ö–ª—é—á ${key} –Ω–∞–π–¥–µ–Ω`);
                        }
                    });
                } else {
                    console.warn('‚ö†Ô∏è i18next –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
                }
            }, 1000);
        });
    </script>
</body>
</html> 