<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ TireOffers</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #fafafa;
        }
        .test-section h3 {
            margin-top: 0;
            color: #1976d2;
        }
        .test-result {
            padding: 10px;
            margin: 5px 0;
            border-radius: 4px;
            font-family: monospace;
        }
        .success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .debug-info {
            background-color: #e2e3e5;
            color: #383d41;
            border: 1px solid #d6d8db;
            padding: 15px;
            border-radius: 4px;
            white-space: pre-wrap;
            font-family: monospace;
            font-size: 0.9em;
        }
        button {
            padding: 10px 20px;
            margin: 5px;
            background-color: #1976d2;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #1565c0;
        }
        .language-switcher {
            text-align: center;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç –û—Ç–ª–∞–¥–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ /client/tire-offers</h1>
        
        <div class="language-switcher">
            <button onclick="switchLanguage('ru')">üá∑üá∫ –†—É—Å—Å–∫–∏–π</button>
            <button onclick="switchLanguage('uk')">üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</button>
            <button onclick="testTranslations()">üß™ –¢–µ—Å—Ç –ø–µ—Ä–µ–≤–æ–¥–æ–≤</button>
        </div>

        <div class="test-section">
            <h3>1. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏</h3>
            <div id="current-info" class="debug-info">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>

        <div class="test-section">
            <h3>2. –¢–µ—Å—Ç –∫–ª—é—á–µ–π –ø–µ—Ä–µ–≤–æ–¥–æ–≤ TireOffers</h3>
            <div id="translation-tests"></div>
        </div>

        <div class="test-section">
            <h3>3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ i18n</h3>
            <div id="resources-info" class="debug-info">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>

        <div class="test-section">
            <h3>4. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é</h3>
            <div class="debug-info">
–®–∞–≥–∏ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ —É–∫—Ä–∞–∏–Ω—Å–∫–∏–π —è–∑—ã–∫
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É namespace –≤ i18n

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π namespace –≤ useTranslation()
- –§–∞–π–ª—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª—é—á–µ–π –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- –ü—Ä–æ–±–ª–µ–º—ã —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –±—Ä–∞—É–∑–µ—Ä–∞
            </div>
        </div>
    </div>

    <script>
        // –°–∏–º—É–ª—è—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç i18next)
        const translationKeys = [
            'forms.clientPages.tireOffers.title',
            'forms.clientPages.tireOffers.filters.activeFilters',
            'forms.clientPages.tireOffers.filters.clearAll',
            'forms.clientPages.tireOffers.table.supplier',
            'forms.clientPages.tireOffers.table.product',
            'forms.clientPages.tireOffers.availability.inStock',
            'forms.clientPages.tireOffers.seasons.winter',
            'forms.clientPages.tireOffers.seasons.summer',
            'forms.clientPages.tireOffers.seasons.all_season'
        ];

        const mockTranslations = {
            ru: {
                'forms.clientPages.tireOffers.title': '–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —à–∏–Ω',
                'forms.clientPages.tireOffers.filters.activeFilters': '–ê–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã:',
                'forms.clientPages.tireOffers.filters.clearAll': '–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ',
                'forms.clientPages.tireOffers.table.supplier': '–ü–æ—Å—Ç–∞–≤—â–∏–∫',
                'forms.clientPages.tireOffers.table.product': '–¢–æ–≤–∞—Ä',
                'forms.clientPages.tireOffers.availability.inStock': '–í –Ω–∞–ª–∏—á–∏–∏',
                'forms.clientPages.tireOffers.seasons.winter': '–ó–∏–º–Ω–∏–µ',
                'forms.clientPages.tireOffers.seasons.summer': '–õ–µ—Ç–Ω–∏–µ',
                'forms.clientPages.tireOffers.seasons.all_season': '–í—Å–µ—Å–µ–∑–æ–Ω–Ω—ã–µ'
            },
            uk: {
                'forms.clientPages.tireOffers.title': '–ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó —à–∏–Ω',
                'forms.clientPages.tireOffers.filters.activeFilters': '–ê–∫—Ç–∏–≤–Ω—ñ —Ñ—ñ–ª—å—Ç—Ä–∏:',
                'forms.clientPages.tireOffers.filters.clearAll': '–û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å–µ',
                'forms.clientPages.tireOffers.table.supplier': '–ü–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫',
                'forms.clientPages.tireOffers.table.product': '–¢–æ–≤–∞—Ä',
                'forms.clientPages.tireOffers.availability.inStock': '–í –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ',
                'forms.clientPages.tireOffers.seasons.winter': '–ó–∏–º–æ–≤—ñ',
                'forms.clientPages.tireOffers.seasons.summer': '–õ—ñ—Ç–Ω—ñ',
                'forms.clientPages.tireOffers.seasons.all_season': '–í—Å–µ—Å–µ–∑–æ–Ω–Ω—ñ'
            }
        };

        let currentLanguage = 'ru';

        function switchLanguage(lang) {
            currentLanguage = lang;
            console.log(`–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —è–∑—ã–∫: ${lang}`);
            
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç i18next
            localStorage.setItem('i18nextLng', lang);
            
            updateCurrentInfo();
            testTranslations();
        }

        function updateCurrentInfo() {
            const info = document.getElementById('current-info');
            const currentTime = new Date().toLocaleString();
            const storedLang = localStorage.getItem('i18nextLng') || '–Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω';
            
            info.textContent = `
–í—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∫–∏: ${currentTime}
–¢–µ–∫—É—â–∏–π —è–∑—ã–∫: ${currentLanguage}
–°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —è–∑—ã–∫ –≤ localStorage: ${storedLang}
URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã: ${window.location.href}

–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ i18next:
- window.i18next: ${typeof window.i18next !== 'undefined' ? '–¥–æ—Å—Ç—É–ø–µ–Ω' : '–ù–ï –î–û–°–¢–£–ü–ï–ù'}
- React i18next: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
            `;
        }

        function testTranslations() {
            const testsContainer = document.getElementById('translation-tests');
            testsContainer.innerHTML = '';

            translationKeys.forEach(key => {
                const testDiv = document.createElement('div');
                testDiv.className = 'test-result';
                
                const ruValue = mockTranslations.ru[key] || '–ù–ï –ù–ê–ô–î–ï–ù';
                const ukValue = mockTranslations.uk[key] || '–ù–ï –ù–ê–ô–î–ï–ù';
                
                if (currentLanguage === 'uk' && ukValue !== '–ù–ï –ù–ê–ô–î–ï–ù') {
                    testDiv.className += ' success';
                    testDiv.innerHTML = `‚úÖ <strong>${key}</strong><br>UK: ${ukValue}`;
                } else if (currentLanguage === 'ru' && ruValue !== '–ù–ï –ù–ê–ô–î–ï–ù') {
                    testDiv.className += ' success';
                    testDiv.innerHTML = `‚úÖ <strong>${key}</strong><br>RU: ${ruValue}`;
                } else {
                    testDiv.className += ' error';
                    testDiv.innerHTML = `‚ùå <strong>${key}</strong><br>–ü–µ—Ä–µ–≤–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω –¥–ª—è ${currentLanguage}`;
                }
                
                testsContainer.appendChild(testDiv);
            });
        }

        function updateResourcesInfo() {
            const resourcesInfo = document.getElementById('resources-info');
            
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å window.i18next.store.data
            resourcesInfo.textContent = `
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ i18next (–æ–∂–∏–¥–∞–µ–º–∞—è):

resources: {
  uk: {
    translation: {
      forms: {
        clientPages: {
          tireOffers: {
            title: "–ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó —à–∏–Ω",
            filters: { ... },
            table: { ... },
            ...
          }
        }
      }
    }
  },
  ru: {
    translation: {
      forms: {
        clientPages: {
          tireOffers: {
            title: "–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —à–∏–Ω",
            filters: { ... },
            table: { ... },
            ...
          }
        }
      }
    }
  }
}

Namespace: –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 'translation'
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: t('forms.clientPages.tireOffers.title')
            `;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            updateCurrentInfo();
            updateResourcesInfo();
            testTranslations();
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
            setInterval(updateCurrentInfo, 5000);
        });
    </script>
</body>
</html>