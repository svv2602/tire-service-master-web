<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –ø–µ—Ä–µ–≤–æ–¥–æ–≤ RichTextEditor</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-section {
            margin-bottom: 30px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .test-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }
        .test-item {
            margin: 10px 0;
            padding: 8px;
            background: #f9f9f9;
            border-left: 3px solid #007bff;
        }
        .translation-key {
            font-family: monospace;
            color: #666;
            font-size: 14px;
        }
        .translation-value {
            font-weight: bold;
            color: #333;
            margin-top: 5px;
        }
        .error {
            color: #dc3545;
            background: #f8d7da;
            border-left-color: #dc3545;
        }
        .success {
            color: #155724;
            background: #d4edda;
            border-left-color: #28a745;
        }
        .button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .button:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîß –¢–µ—Å—Ç –ø–µ—Ä–µ–≤–æ–¥–æ–≤ RichTextEditor</h1>
        <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞</p>
        
        <div class="test-section">
            <div class="test-title">üìã –¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ –∫–ª—é—á–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤</div>
            <div id="translation-tests"></div>
        </div>
        
        <div class="test-section">
            <div class="test-title">üåê –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —è–∑—ã–∫–æ–º</div>
            <button class="button" onclick="setLanguage('ru')">–†—É—Å—Å–∫–∏–π</button>
            <button class="button" onclick="setLanguage('uk')">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</button>
            <button class="button" onclick="testTranslations()">–ü–µ—Ä–µ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
        </div>
        
        <div class="test-section">
            <div class="test-title">üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</div>
            <div id="test-results"></div>
        </div>
    </div>

    <script>
        // –ö–ª—é—á–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        const translationKeys = [
            'richTextEditor.modals.link.title',
            'richTextEditor.modals.link.fields.linkText',
            'richTextEditor.modals.link.fields.linkUrl',
            'richTextEditor.modals.link.buttons.cancel',
            'richTextEditor.modals.link.buttons.insert',
            'richTextEditor.modals.image.title',
            'richTextEditor.modals.image.fields.imageUrl',
            'richTextEditor.modals.image.fields.altText',
            'richTextEditor.modals.video.title',
            'richTextEditor.modals.video.fields.videoUrl',
            'richTextEditor.modals.table.title',
            'richTextEditor.toolbar.modes.visual',
            'richTextEditor.toolbar.modes.html',
            'richTextEditor.toolbar.modes.text'
        ];

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∏–∑ localStorage (—Å–∏–º—É–ª—è—Ü–∏—è i18n)
        function getTranslation(key, language = 'ru') {
            // –°–∏–º—É–ª–∏—Ä—É–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–µ—Ä–µ–≤–æ–¥–æ–≤
            const translations = {
                'ru': {
                    'richTextEditor.modals.link.title': '–°—Å—ã–ª–∫–∞',
                    'richTextEditor.modals.link.fields.linkText': '–¢–µ–∫—Å—Ç —Å—Å—ã–ª–∫–∏',
                    'richTextEditor.modals.link.fields.linkUrl': '–ê–¥—Ä–µ—Å —Å—Å—ã–ª–∫–∏',
                    'richTextEditor.modals.link.buttons.cancel': '–û—Ç–º–µ–Ω–∞',
                    'richTextEditor.modals.link.buttons.insert': '–í—Å—Ç–∞–≤–∏—Ç—å',
                    'richTextEditor.modals.image.title': '–í—Å—Ç–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ',
                    'richTextEditor.modals.image.fields.imageUrl': 'URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è',
                    'richTextEditor.modals.image.fields.altText': '–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ç–µ–∫—Å—Ç (alt)',
                    'richTextEditor.modals.video.title': '–í—Å—Ç–∞–≤–∏—Ç—å –≤–∏–¥–µ–æ',
                    'richTextEditor.modals.video.fields.videoUrl': 'URL –≤–∏–¥–µ–æ',
                    'richTextEditor.modals.table.title': '–í—Å—Ç–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É',
                    'richTextEditor.toolbar.modes.visual': '–í–∏–∑—É–∞–ª—å–Ω—ã–π',
                    'richTextEditor.toolbar.modes.html': 'HTML',
                    'richTextEditor.toolbar.modes.text': '–¢–µ–∫—Å—Ç'
                },
                'uk': {
                    'richTextEditor.modals.link.title': '–ü–æ—Å–∏–ª–∞–Ω–Ω—è',
                    'richTextEditor.modals.link.fields.linkText': '–¢–µ–∫—Å—Ç –ø–æ—Å–∏–ª–∞–Ω–Ω—è',
                    'richTextEditor.modals.link.fields.linkUrl': '–ê–¥—Ä–µ—Å–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è',
                    'richTextEditor.modals.link.buttons.cancel': '–°–∫–∞—Å—É–≤–∞—Ç–∏',
                    'richTextEditor.modals.link.buttons.insert': '–í—Å—Ç–∞–≤–∏—Ç–∏',
                    'richTextEditor.modals.image.title': '–í—Å—Ç–∞–≤–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è',
                    'richTextEditor.modals.image.fields.imageUrl': 'URL –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è',
                    'richTextEditor.modals.image.fields.altText': '–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π —Ç–µ–∫—Å—Ç (alt)',
                    'richTextEditor.modals.video.title': '–í—Å—Ç–∞–≤–∏—Ç–∏ –≤—ñ–¥–µ–æ',
                    'richTextEditor.modals.video.fields.videoUrl': 'URL –≤—ñ–¥–µ–æ',
                    'richTextEditor.modals.table.title': '–í—Å—Ç–∞–≤–∏—Ç–∏ —Ç–∞–±–ª–∏—Ü—é',
                    'richTextEditor.toolbar.modes.visual': '–í—ñ–∑—É–∞–ª—å–Ω–∏–π',
                    'richTextEditor.toolbar.modes.html': 'HTML',
                    'richTextEditor.toolbar.modes.text': '–¢–µ–∫—Å—Ç'
                }
            };
            
            return translations[language]?.[key] || key;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤
        function testTranslations() {
            const currentLanguage = localStorage.getItem('i18nextLng') || 'ru';
            const testsContainer = document.getElementById('translation-tests');
            const resultsContainer = document.getElementById('test-results');
            
            let successCount = 0;
            let errorCount = 0;
            
            testsContainer.innerHTML = '';
            
            translationKeys.forEach(key => {
                const translation = getTranslation(key, currentLanguage);
                const isError = translation === key; // –ï—Å–ª–∏ –ø–µ—Ä–µ–≤–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫–ª—é—á
                
                const testItem = document.createElement('div');
                testItem.className = `test-item ${isError ? 'error' : 'success'}`;
                
                testItem.innerHTML = `
                    <div class="translation-key">${key}</div>
                    <div class="translation-value">${translation}</div>
                `;
                
                testsContainer.appendChild(testItem);
                
                if (isError) {
                    errorCount++;
                } else {
                    successCount++;
                }
            });
            
            resultsContainer.innerHTML = `
                <div style="margin: 10px 0;">
                    <strong>–Ø–∑—ã–∫:</strong> ${currentLanguage === 'ru' ? '–†—É—Å—Å–∫–∏–π' : '–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞'}
                </div>
                <div style="margin: 10px 0;">
                    <span style="color: #28a745;">‚úÖ –£—Å–ø–µ—à–Ω–æ: ${successCount}</span> | 
                    <span style="color: #dc3545;">‚ùå –û—à–∏–±–∫–∏: ${errorCount}</span>
                </div>
                <div style="margin: 10px 0;">
                    <strong>–ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—Ö–∞:</strong> ${Math.round((successCount / translationKeys.length) * 100)}%
                </div>
            `;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–º–µ–Ω—ã —è–∑—ã–∫–∞
        function setLanguage(language) {
            localStorage.setItem('i18nextLng', language);
            testTranslations();
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∞–ª—å–Ω–æ–≥–æ API –ø–µ—Ä–µ–≤–æ–¥–æ–≤
        function checkRealTranslations() {
            console.log('üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤...');
            
            // –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã –∏–∑ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
            if (window.i18n) {
                translationKeys.forEach(key => {
                    const translation = window.i18n.t(key);
                    console.log(`${key}: ${translation}`);
                });
            } else {
                console.log('‚ùå i18n –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ window –æ–±—ä–µ–∫—Ç–µ');
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            testTranslations();
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤
            const realTestButton = document.createElement('button');
            realTestButton.className = 'button';
            realTestButton.textContent = '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã';
            realTestButton.onclick = checkRealTranslations;
            document.querySelector('.test-section:nth-child(2)').appendChild(realTestButton);
        });

        // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
        console.log('üß™ –¢–µ—Å—Ç –ø–µ—Ä–µ–≤–æ–¥–æ–≤ RichTextEditor –∑–∞–≥—Ä—É–∂–µ–Ω');
        console.log('üìã –¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ –∫–ª—é—á–∏:', translationKeys);
        console.log('üåê –¢–µ–∫—É—â–∏–π —è–∑—ã–∫:', localStorage.getItem('i18nextLng') || 'ru');
    </script>
</body>
</html> 