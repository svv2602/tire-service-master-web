<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç —Ñ–æ—Ä–º–∞—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞—Ç—ã dd.mm.yyyy</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .test-title {
            color: #2196F3;
            border-bottom: 2px solid #2196F3;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .chip {
            display: inline-block;
            padding: 6px 12px;
            background-color: #e3f2fd;
            border: 1px solid #2196F3;
            border-radius: 16px;
            font-size: 14px;
            margin: 5px;
        }
        .before-after {
            display: flex;
            gap: 20px;
            margin: 20px 0;
        }
        .before, .after {
            flex: 1;
            padding: 15px;
            border-radius: 8px;
        }
        .before {
            background-color: #ffebee;
            border-left: 4px solid #f44336;
        }
        .after {
            background-color: #e8f5e8;
            border-left: 4px solid #4caf50;
        }
        .test-function {
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            margin: 10px 0;
        }
        .success {
            color: #4caf50;
            font-weight: bold;
        }
        .error {
            color: #f44336;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1 class="test-title">üóìÔ∏è –¢–µ—Å—Ç —Ñ–æ—Ä–º–∞—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞—Ç—ã dd.mm.yyyy</h1>
        
        <h2>üìã –û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è</h2>
        <p>–ò–∑–º–µ–Ω–µ–Ω —Ñ–æ—Ä–º–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞—Ç—ã –≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–º –±–ª–æ–∫–µ —Ñ–æ—Ä–º—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:</p>
        
        <div class="before-after">
            <div class="before">
                <h3>‚ùå –î–æ (yyyy-mm-dd):</h3>
                <div class="chip">üìÖ 2025-07-10</div>
                <div class="chip">üïê 10:10 - 10:45</div>
            </div>
            <div class="after">
                <h3>‚úÖ –ü–æ—Å–ª–µ (dd.mm.yyyy):</h3>
                <div class="chip">üìÖ 10.07.2025</div>
                <div class="chip">üïê 10:10 - 10:45</div>
            </div>
        </div>

        <h2>üîß –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è</h2>
        <div class="test-function">
const formatDateForDisplay = (dateString: string): string => {
  if (!dateString) return '';
  
  try {
    // –ü–∞—Ä—Å–∏–º –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ yyyy-mm-dd
    const [year, month, day] = dateString.split('-');
    return `${day}.${month}.${year}`;
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç—ã:', error);
    return dateString; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∏—Å—Ö–æ–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏
  }
};
        </div>

        <h2>üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏</h2>
        <div id="test-results"></div>

        <h2>üì± –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</h2>
        <ol>
            <li>–û—Ç–∫—Ä–æ–π—Ç–µ <a href="http://localhost:3008/admin/bookings/8/edit" target="_blank">http://localhost:3008/admin/bookings/8/edit</a></li>
            <li>–ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é "–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –∑–∞–ø–∏—Å–∏"</li>
            <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –¥–∞—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ dd.mm.yyyy (–Ω–∞–ø—Ä–∏–º–µ—Ä: 10.07.2025)</li>
            <li>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Ä–µ–º—è –æ—Å—Ç–∞–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ HH:mm - HH:mm</li>
        </ol>

        <h2>‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h2>
        <ul>
            <li>–î–∞—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ø—Ä–∏–≤—ã—á–Ω–æ–º –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ñ–æ—Ä–º–∞—Ç–µ dd.mm.yyyy</li>
            <li>–í—Ä–µ–º—è –æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ HH:mm</li>
            <li>–§—É–Ω–∫—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞</li>
            <li>–ü—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å</li>
        </ul>
    </div>

    <script>
        // –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç—ã
        function formatDateForDisplay(dateString) {
            if (!dateString) return '';
            
            try {
                const [year, month, day] = dateString.split('-');
                return `${day}.${month}.${year}`;
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç—ã:', error);
                return dateString;
            }
        }

        // –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏
        const testCases = [
            { input: '2025-07-10', expected: '10.07.2025', description: '–û–±—ã—á–Ω–∞—è –¥–∞—Ç–∞' },
            { input: '2025-12-31', expected: '31.12.2025', description: '–ü–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å –≥–æ–¥–∞' },
            { input: '2025-01-01', expected: '01.01.2025', description: '–ü–µ—Ä–≤—ã–π –¥–µ–Ω—å –≥–æ–¥–∞' },
            { input: '', expected: '', description: '–ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞' },
            { input: 'invalid-date', expected: 'invalid-date', description: '–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –¥–∞—Ç–∞ (fallback)' }
        ];

        let resultsHtml = '';
        let allTestsPassed = true;

        testCases.forEach((testCase, index) => {
            const result = formatDateForDisplay(testCase.input);
            const passed = result === testCase.expected;
            allTestsPassed = allTestsPassed && passed;

            resultsHtml += `
                <div style="margin: 10px 0; padding: 10px; border-radius: 4px; background-color: ${passed ? '#e8f5e8' : '#ffebee'};">
                    <strong>–¢–µ—Å—Ç ${index + 1}:</strong> ${testCase.description}<br>
                    <strong>–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:</strong> "${testCase.input}"<br>
                    <strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> "${testCase.expected}"<br>
                    <strong>–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> "${result}"<br>
                    <span class="${passed ? 'success' : 'error'}">${passed ? '‚úÖ –ü–†–û–ô–î–ï–ù' : '‚ùå –ü–†–û–í–ê–õ–ï–ù'}</span>
                </div>
            `;
        });

        resultsHtml += `
            <div style="margin-top: 20px; padding: 15px; border-radius: 8px; background-color: ${allTestsPassed ? '#e8f5e8' : '#ffebee'};">
                <h3 class="${allTestsPassed ? 'success' : 'error'}">
                    ${allTestsPassed ? 'üéâ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´!' : '‚ö†Ô∏è –ï–°–¢–¨ –û–®–ò–ë–ö–ò –í –¢–ï–°–¢–ê–•'}
                </h3>
                <p>–ü—Ä–æ–π–¥–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤: ${testCases.filter((_, i) => formatDateForDisplay(testCases[i].input) === testCases[i].expected).length} –∏–∑ ${testCases.length}</p>
            </div>
        `;

        document.getElementById('test-results').innerHTML = resultsHtml;

        console.log('üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ formatDateForDisplay:');
        testCases.forEach((testCase, index) => {
            const result = formatDateForDisplay(testCase.input);
            const passed = result === testCase.expected;
            console.log(`–¢–µ—Å—Ç ${index + 1} (${testCase.description}): ${passed ? '‚úÖ' : '‚ùå'} "${testCase.input}" ‚Üí "${result}"`);
        });
    </script>
</body>
</html> 