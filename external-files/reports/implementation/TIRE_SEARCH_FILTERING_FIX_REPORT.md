# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ —à–∏–Ω –≤ –ø–æ–∏—Å–∫–µ

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/client/tire-search?q=—Ç–∏–≥—É–∞–Ω` –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å –í–°–ï —Ä–∞–∑–º–µ—Ä—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–∏–∞–º–µ—Ç—Ä–∞, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ —Ç–µ —Ä–∞–∑–º–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –∞–≤—Ç–æ–º–æ–±–∏–ª—è (–¢–∏–≥—É–∞–Ω).

## ‚úÖ –†–µ—à–µ–Ω–∏–µ
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Ä–∞–∑–º–µ—Ä–∞–º –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è.

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. Backend API –∏–∑–º–µ–Ω–µ–Ω–∏—è
**–§–∞–π–ª**: `tire-service-master-api/app/controllers/api/v1/supplier_products_search_controller.rb`

#### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π endpoint:
```
GET /api/v1/supplier_products_search/available_sizes/:diameter?sizes=[{"width":205,"height":55},{"width":215,"height":60}]
```

#### –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã:
- `extract_size_filters()` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Ä–∞–∑–º–µ—Ä–æ–≤ –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- `generate_sizes_cache_key()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞ –∫–µ—à–∞ —Å —É—á–µ—Ç–æ–º —Ñ–∏–ª—å—Ç—Ä–æ–≤
- `get_available_sizes_by_diameter(diameter, filter_sizes)` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

#### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã —Ñ–∏–ª—å—Ç—Ä–æ–≤:
1. **JSON –º–∞—Å—Å–∏–≤**: `[{"width":205,"height":55},{"width":215,"height":60}]`
2. **Comma-separated**: `"205/55,215/60,225/50"`
3. **–ú–∞—Å—Å–∏–≤ —Ö–µ—à–µ–π**: –ø—Ä—è–º–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

#### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç API:
```json
{
  "success": true,
  "diameter": "R17",
  "sizes": [...],
  "total_sizes": 3,
  "data_source": "supplier_prices_filtered",
  "filter_applied": true,
  "original_sizes_count": 8
}
```

### 2. Frontend API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
**–§–∞–π–ª**: `tire-service-master-web/src/api/supplierSizes.api.ts`

#### –ù–æ–≤—ã–µ —Ç–∏–ø—ã:
```typescript
interface SizeFilter {
  width: number;
  height: number;
}

interface GetSizesByDiameterParams {
  diameter: string;
  sizes?: SizeFilter[];
}
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ö—É–∫:
```typescript
useGetSupplierSizesByDiameterQuery({ 
  diameter: "17",
  sizes: [{ width: 205, height: 55 }] 
})
```

### 3. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–∏–∞–º–µ—Ç—Ä–∞
**–§–∞–π–ª**: `tire-service-master-web/src/components/tire-search/SupplierTireDiameterCard/SupplierTireDiameterCard.tsx`

#### –ù–æ–≤—ã–π –ø—Ä–æ–ø—Å:
```typescript
interface SupplierTireDiameterCardProps {
  diameter: string;
  searchParams?: { ... };
  filterSizes?: SizeFilter[]; // –ù–æ–≤—ã–π –ø—Ä–æ–ø—Å –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
  className?: string;
}
```

#### –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:
- üéØ "–û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–æ –∏–∑ X —Ä–∞–∑–º–µ—Ä–æ–≤"
- üéØ "–†–∞–∑–º–µ—Ä—ã –¥–ª—è –≤–∞—à–µ–≥–æ –∞–≤—Ç–æ–º–æ–±–∏–ª—è –∏–∑ –ø—Ä–∞–π—Å–æ–≤ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤"

### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞
**–§–∞–π–ª**: `tire-service-master-web/src/components/tire-search/TireSearchResults/TireSearchResults.tsx`

#### –ü–µ—Ä–µ–¥–∞—á–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤:
```typescript
const filterSizes = group.sizes.map(size => ({
  width: size.width,
  height: size.height
}));

<SupplierTireDiameterCard
  diameter={group.diameter.toString()}
  searchParams={searchParams}
  filterSizes={filterSizes} // –ü–µ—Ä–µ–¥–∞–µ–º —Ä–∞–∑–º–µ—Ä—ã –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
/>
```

### 5. –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
**–§–∞–π–ª—ã**: `ru.json`, `uk.json`

#### –ù–æ–≤—ã–µ –∫–ª—é—á–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤:
```json
{
  "supplierSizes": {
    "dataSourceFiltered": "üéØ –†–∞–∑–º–µ—Ä—ã –¥–ª—è –≤–∞—à–µ–≥–æ –∞–≤—Ç–æ–º–æ–±–∏–ª—è –∏–∑ –ø—Ä–∞–π—Å–æ–≤ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤",
    "filteredFromOriginal": "üéØ –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–æ –∏–∑ {{count}} —Ä–∞–∑–º–µ—Ä–æ–≤"
  }
}
```

## üîÑ –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã

1. **–ü–æ–∏—Å–∫ –∞–≤—Ç–æ–º–æ–±–∏–ª—è**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—â–µ—Ç "–¢–∏–≥—É–∞–Ω"
2. **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞**: –°–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç —Ä–∞–∑–º–µ—Ä—ã —à–∏–Ω –¥–ª—è –¢–∏–≥—É–∞–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 215/65R16, 215/60R17, 235/55R17)
3. **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∏–∞–º–µ—Ç—Ä–∞–º**: –†–∞–∑–º–µ—Ä—ã –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –ø–æ –¥–∏–∞–º–µ—Ç—Ä–∞–º (R16, R17)
4. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤**: –î–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–∏–∞–º–µ—Ç—Ä–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ —Ä–∞–∑–º–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å:
   - –£ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ (`in_stock: true`)
   - –ò –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –¢–∏–≥—É–∞–Ω–∞ (–ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –ø–æ–∏—Å–∫–∞)
5. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ**: –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

## üìä –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
–î–∏–∞–º–µ—Ç—Ä R17
45 —Ä–∞–∑–º–µ—Ä–æ–≤ –≤ –Ω–∞–ª–∏—á–∏–∏
205/40R17, 205/45R17, 205/50R17, ..., 275/35R17 (–≤—Å–µ —Ä–∞–∑–º–µ—Ä—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤)
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
–î–∏–∞–º–µ—Ç—Ä R17
üéØ –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–æ –∏–∑ 8 —Ä–∞–∑–º–µ—Ä–æ–≤
3 —Ä–∞–∑–º–µ—Ä–∞ –≤ –Ω–∞–ª–∏—á–∏–∏
215/60R17, 235/55R17, 225/60R17 (—Ç–æ–ª—å–∫–æ —Ä–∞–∑–º–µ—Ä—ã –¥–ª—è –¢–∏–≥—É–∞–Ω–∞)
üéØ –†–∞–∑–º–µ—Ä—ã –¥–ª—è –≤–∞—à–µ–≥–æ –∞–≤—Ç–æ–º–æ–±–∏–ª—è –∏–∑ –ø—Ä–∞–π—Å–æ–≤ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
```

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–¢–æ—á–Ω–æ—Å—Ç—å**: –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ä–∞–∑–º–µ—Ä—ã, –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∞–≤—Ç–æ–º–æ–±–∏–ª—è
2. **–ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å**: –†–∞–∑–º–µ—Ä—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
3. **–ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å**: –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –æ–±—ä—è—Å–Ω—è—é—Ç, —á—Ç–æ —Ä–∞–∑–º–µ—Ä—ã –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω—ã
4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —É—á–µ—Ç–æ–º —Ñ–∏–ª—å—Ç—Ä–æ–≤
5. **–ì–∏–±–∫–æ—Å—Ç—å**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –ø–æ–∏—Å–∫–µ "–¢–∏–≥—É–∞–Ω" —Å–∏—Å—Ç–µ–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ —Ä–∞–∑–º–µ—Ä—ã —à–∏–Ω, –∫–æ—Ç–æ—Ä—ã–µ:
- ‚úÖ –ü–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è Volkswagen Tiguan (–∏–∑ –±–∞–∑—ã –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π)
- ‚úÖ –ï—Å—Ç—å –≤ –Ω–∞–ª–∏—á–∏–∏ —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ (–∏–∑ –ø—Ä–∞–π—Å–æ–≤)
- ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω—ã –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–æ–ª—å—à–µ –Ω–µ –≤–∏–¥—è—Ç –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Ä–∞–∑–º–µ—Ä—ã –∏ –º–æ–≥—É—Ç —Å—Ä–∞–∑—É –≤—ã–±—Ä–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —à–∏–Ω—ã –¥–ª—è —Å–≤–æ–µ–≥–æ –∞–≤—Ç–æ–º–æ–±–∏–ª—è.