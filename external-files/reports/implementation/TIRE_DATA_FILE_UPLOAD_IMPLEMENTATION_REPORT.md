# üéØ –ó–ê–í–ï–†–®–ï–ù–û: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ CSV —Ñ–∞–π–ª–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ —à–∏–Ω

## üìã –û–±–∑–æ—Ä –∑–∞–¥–∞—á–∏
–ü–æ–ª–Ω–∞—è –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã `/admin/system-settings` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ —à–∏–Ω —Å –ø–µ—Ä–µ—Ö–æ–¥–æ–º –æ—Ç —É–∫–∞–∑–∞–Ω–∏—è –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä.

## ‚úÖ –†–ï–®–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. **–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ**: `POST http://localhost:8000/api/v1/admin/tire_data/validate_files net::ERR_CONNECTION_REFUSED`
2. **–ù–µ—É–¥–æ–±—Å—Ç–≤–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**: –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —É–∫–∞–∑—ã–≤–∞—Ç—å –ø—É—Ç—å –∫ CSV —Ñ–∞–π–ª–∞–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤**: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –º–æ–≥–ª–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Å–≤–æ–∏ CSV —Ñ–∞–π–ª—ã

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### Backend (tire-service-master-api)

#### 1. **–ù–æ–≤—ã–π API endpoint - upload_files**
```ruby
# POST /api/v1/admin/tire_data/upload_files
def upload_files
  # –°–æ–∑–¥–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø–∞–ø–∫–∏ –¥–ª—è —Å–µ—Å—Å–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏
  upload_session_id = SecureRandom.hex(8)
  upload_dir = Rails.root.join('tmp', 'tire_data_uploads', upload_session_id)
  
  # –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ CSV —Ñ–∞–π–ª–æ–≤
  # –í–æ–∑–≤—Ä–∞—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
end
```

#### 2. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø–∞–ø–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è CSV —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
- ‚úÖ –í–æ–∑–≤—Ä–∞—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (–∏–º—è, –ø—É—Ç—å, —Ä–∞–∑–º–µ—Ä)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### Frontend (tire-service-master-web)

#### 3. **–ù–æ–≤—ã–π API —Å–ª–æ–π - tireData.api.ts**
```typescript
export const tireDataApi = baseApi.injectEndpoints({
  endpoints: (builder) => ({
    uploadTireDataFiles: builder.mutation<UploadResult, FormData>(),
    validateTireDataFiles: builder.mutation<ValidationResult, { csv_path: string }>(),
    importTireData: builder.mutation<ImportResult, ImportOptions>(),
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ endpoints
  })
})
```

#### 4. **–ú–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏—è TireDataManagement.tsx**:
- ‚úÖ –ó–∞–º–µ–Ω–∞ text input –Ω–∞ file input –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç—Ä–µ–±—É–µ–º–æ–≥–æ CSV —Ñ–∞–π–ª–∞
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å RTK Query –≤–º–µ—Å—Ç–æ –ø—Ä—è–º—ã—Ö fetch –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö hardcoded localhost URLs
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üé® UI/UX –£–õ–£–ß–®–ï–ù–ò–Ø

### 5. **–ù–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤**:
```tsx
{requiredFiles.map((file) => (
  <Card key={file.name}>
    <input type="file" accept=".csv" />
    <Button
      variant={selectedFiles[file.name] ? "contained" : "outlined"}
      startIcon={selectedFiles[file.name] ? <CheckIcon /> : <UploadIcon />}
    >
      {selectedFiles[file.name] ? '–ó–∞–≥—Ä—É–∂–µ–Ω' : '–í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª'}
    </Button>
  </Card>
))}
```

### 6. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å**:
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞
- ‚úÖ –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞ (—Å–µ—Ä—ã–π ‚Üí –∑–µ–ª–µ–Ω—ã–π)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–Ω–æ–ø–∫–∏ "–î–∞–ª–µ–µ" –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏, –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –∏–º–ø–æ—Ä—Ç–∞

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –£–õ–£–ß–®–ï–ù–ò–Ø

### 7. **RTK Query –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**:
- ‚úÖ –í—Å–µ API –≤—ã–∑–æ–≤—ã –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ RTK Query —Ö—É–∫–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 8. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ hardcoded URLs**:
```typescript
// –ë—ã–ª–æ:
const response = await fetch('http://localhost:8000/api/v1/admin/tire_data/status')

// –°—Ç–∞–ª–æ:
const { data: statsData } = useGetTireDataStatsQuery()
```

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:
1. **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤—ã–±–∏—Ä–∞—é—Ç CSV —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–∞–π–ª–æ–≤—ã–π –¥–∏–∞–ª–æ–≥
2. **–ü—Ä–æ–¥–∞–∫—à–µ–Ω —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ hardcoded localhost URLs
3. **–£–ª—É—á—à–µ–Ω–Ω—ã–π UX**: –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –≤–∏–∑—É–∞–ª—å–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑—å—é
4. **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
5. **–ü—Ä–æ–≥—Ä–µ—Å—Å –∏–Ω–¥–∏–∫–∞—Ü–∏—è**: –ß–µ—Ç–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π

### üéØ –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- üåê **–†–∞–±–æ—Ç–∞–µ—Ç –≤ –ª—é–±–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏** (dev, staging, production)
- üë• **–£–¥–æ–±—Å—Ç–≤–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** - –Ω–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –ø—É—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - —Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞–ø–∫–∏
- ‚ö° **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - RTK Query –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã
- üé® **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI** - –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å Material-UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

## üìÅ –ò–ó–ú–ï–ù–ï–ù–ù–´–ï –§–ê–ô–õ–´

### Backend:
- `app/controllers/api/v1/admin/tire_data_controller.rb` - –¥–æ–±–∞–≤–ª–µ–Ω upload_files endpoint
- `config/routes.rb` - –¥–æ–±–∞–≤–ª–µ–Ω —Ä–æ—É—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤

### Frontend:
- `src/api/tireData.api.ts` - –Ω–æ–≤—ã–π API —Å–ª–æ–π (—Å–æ–∑–¥–∞–Ω)
- `src/components/admin/TireDataManagement/TireDataManagement.tsx` - –ø–æ–ª–Ω–∞—è –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏—è

## üöÄ –ì–û–¢–û–í–ù–û–°–¢–¨ –ö –ü–†–û–î–ê–ö–®–ï–ù–£

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:
- –ö–æ–º–ø–∏–ª—è—Ü–∏—è –±–µ–∑ –æ—à–∏–±–æ–∫
- TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- ESLint –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã
- –†–∞–±–æ—Ç–∞ –≤ development –æ–∫—Ä—É–∂–µ–Ω–∏–∏
- API endpoints –¥–æ—Å—Ç—É–ø–Ω—ã

### üéâ –°–¢–ê–¢–£–°: **–ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ**

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç:
1. –ó–∞–π—Ç–∏ –Ω–∞ `/admin/system-settings` 
2. –í—ã–±—Ä–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ CSV —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –¥–∏–∞–ª–æ–≥
3. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º
4. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
5. –í—Å–µ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ª—é–±–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—É—Ç–µ–π

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞–ø–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏
- –§–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —Ç–æ—á–Ω—ã–µ –∏–º–µ–Ω–∞ —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º —Å–∏—Å—Ç–µ–º—ã
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ CSV —Ñ–∞–π–ª—ã
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–∞–∫ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ, —Ç–∞–∫ –∏ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ