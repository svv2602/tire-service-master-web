# –û–¢–ß–ï–¢: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –∫—ç—à–∞ —Å–µ—Ä–≤–∏—Å–Ω—ã—Ö —Ç–æ—á–µ–∫

## üö® –ü–†–û–ë–õ–ï–ú–ê
–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–Ω–æ–π —Ç–æ—á–∫–∏ (work_status) —Å "working" –Ω–∞ "temporarily_closed" –∏–ª–∏ –¥—Ä—É–≥–æ–µ, —Ç–æ—á–∫–∞ –∏—Å—á–µ–∑–∞–ª–∞ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –≤ –∞–¥–º–∏–Ω–∫–µ –∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∞—Å—å –ø—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤. –ü—Ä–æ–±–ª–µ–º–∞ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ RTK Query –∫—ç—à–∏—Ä–æ–≤–∞–ª –¥–∞–Ω–Ω—ã–µ –∏ –Ω–µ –æ–±–Ω–æ–≤–ª—è–ª –∏—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –º—É—Ç–∞—Ü–∏–∏.

## üéØ –†–ï–®–ï–ù–ò–ï

### 1. BACKEND –ò–ó–ú–ï–ù–ï–ù–ò–Ø (tire-service-master-api)

#### ServicePointsController#index
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (`is_active`) –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—é —Ä–∞–±–æ—Ç—ã (`work_status`)
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≤ –º–µ—Ç–æ–¥–µ `by_category` –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –¢–µ–ø–µ—Ä—å –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–æ—á–∫–∏ —Å `is_active: true` –ò `work_status: 'working'`

```ruby
# –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (is_active)
if params[:is_active].present?
  @service_points = @service_points.where(is_active: params[:is_active] == 'true')
end

# –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é —Ä–∞–±–æ—Ç—ã (work_status)
if params[:work_status].present?
  @service_points = @service_points.where(work_status: params[:work_status])
end
```

### 2. FRONTEND –ò–ó–ú–ï–ù–ï–ù–ò–Ø (tire-service-master-web)

#### ServicePointsPage.tsx - –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ–∏–ª—å—Ç—Ä—ã –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤: `selectedIsActive`, `selectedWorkStatus`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ "–°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–±–æ—Ç—ã" —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π
- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ "–°—Ç–∞—Ç—É—Å" –≤ "–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å" –¥–ª—è —è—Å–Ω–æ—Å—Ç–∏
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–û–±–Ω–æ–≤–∏—Ç—å" –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥

#### ServicePointFormPageNew.tsx - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–Ω–æ–π —Ç–æ—á–∫–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `useInvalidateCache` –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–æ–≤

```typescript
// –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
invalidateTag('ServicePoint', String(id));
invalidateList('ServicePoint');
if (partnerId) {
  invalidateTag('ServicePoint', `PARTNER_${partnerId}`);
}
```

#### servicePoints.api.ts - –£–ª—É—á—à–µ–Ω–Ω—ã–µ invalidatesTags
- –û–±–Ω–æ–≤–ª–µ–Ω—ã `invalidatesTags` –¥–ª—è –º—É—Ç–∞—Ü–∏–∏ `updateServicePoint`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–≥–æ–≤ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—ç—à–∞

## üé® UI –£–õ–£–ß–®–ï–ù–ò–Ø

### –ù–æ–≤—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
- **–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: –í—Å–µ / –ê–∫—Ç–∏–≤–Ω—ã–µ / –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–±–æ—Ç—ã**: –í—Å–µ / –†–∞–±–æ—á–∞—è / –í—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–∫—Ä—ã—Ç–∞ / –ù–∞ —Ç–µ—Ö–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–∏ / –ó–∞–∫—Ä—ã—Ç–∞ –Ω–∞–≤—Å–µ–≥–¥–∞

### –ö–æ–ª–æ–Ω–∫–∞ "–°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–±–æ—Ç—ã"
- `working` ‚Üí –ó–µ–ª–µ–Ω—ã–π —á–∏–ø "–†–∞–±–æ—á–∞—è"
- `temporarily_closed` ‚Üí –û—Ä–∞–Ω–∂–µ–≤—ã–π —á–∏–ø "–í—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–∫—Ä—ã—Ç–∞"
- `maintenance` ‚Üí –°–∏–Ω–∏–π —á–∏–ø "–ù–∞ —Ç–µ—Ö–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–∏"
- `permanently_closed` ‚Üí –ö—Ä–∞—Å–Ω—ã–π —á–∏–ø "–ó–∞–∫—Ä—ã—Ç–∞ –Ω–∞–≤—Å–µ–≥–¥–∞"

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö/–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç–æ—á–µ–∫
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ—á–µ–∫ –ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º —Ä–∞–±–æ—Ç—ã
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ç–æ—á–µ–∫

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–µ—Å—Ç–æ–≤–∞—è —Ç–æ—á–∫–∞ "–ê–≤—Ç–æ–®–∏–Ω–∞ –ü–ª—é—Å –Ω–∞ –°–∏—Ö–æ–≤—ñ (–¢–µ—Å—Ç)" —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `temporarily_closed`
- –¢–µ–ø–µ—Ä—å –≤–æ –õ—å–≤–æ–≤–µ 2 —Ç–æ—á–∫–∏: –æ–¥–Ω–∞ `working`, –æ–¥–Ω–∞ `temporarily_closed`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
1. ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ç–æ—á–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ
2. ‚úÖ –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è –≤—Å–µ—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
3. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
4. ‚úÖ –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É "–û–±–Ω–æ–≤–∏—Ç—å"
5. ‚úÖ –î–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –ò —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Ç–æ—á–∫–∏

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢

### –î–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø
- –¢–æ—á–∫–∏ –∏—Å—á–µ–∑–∞–ª–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –§–∏–ª—å—Ç—Ä—ã –Ω–µ –ø–æ–º–æ–≥–∞–ª–∏ –Ω–∞–π—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏
- –¢—Ä–µ–±–æ–≤–∞–ª–æ—Å—å –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### –ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø
- –í—Å–µ —Ç–æ—á–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –§–∏–ª—å—Ç—Ä—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ —Ç–æ—á–∫–∏ –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—é
- –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- –ö–Ω–æ–ø–∫–∞ "–û–±–Ω–æ–≤–∏—Ç—å" –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### RTK Query –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–µ–≥–∏ –¥–ª—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫—ç—à–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–≥–æ–≤ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ `PARTNER_${partnerId}`
- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ—Å–ª–µ –º—É—Ç–∞—Ü–∏–π

### API –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≤ backend
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –∏ –∞–¥–º–∏–Ω—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

## üìÅ –ö–û–ú–ú–ò–¢–´
- **Backend**: 6f27ed5 - "feat: –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—é —Ä–∞–±–æ—Ç—ã –≤ –∞–¥–º–∏–Ω–∫–µ —Å–µ—Ä–≤–∏—Å–Ω—ã—Ö —Ç–æ—á–µ–∫"
- **Frontend**: f993a72 - "fix: –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–Ω—ã—Ö —Ç–æ—á–µ–∫"

## üéØ –ò–¢–û–ì
–ü—Ä–æ–±–ª–µ–º–∞ —Å –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ–º —Å–µ—Ä–≤–∏—Å–Ω—ã—Ö —Ç–æ—á–µ–∫ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞. –¢–µ–ø–µ—Ä—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –≤–∏–¥–µ—Ç—å –≤—Å–µ —Ç–æ—á–∫–∏, —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∏—Ö –ø–æ –ª—é–±—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º –∏ –ø–æ–ª—É—á–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. 