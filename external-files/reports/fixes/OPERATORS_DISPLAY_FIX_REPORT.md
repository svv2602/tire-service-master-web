# üêõ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´ –° –û–¢–û–ë–†–ê–ñ–ï–ù–ò–ï–ú –û–ü–ï–†–ê–¢–û–†–û–í

## üö® –ü–†–û–ë–õ–ï–ú–ê
–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/admin/partners/7/edit` –≤ —Ç–∞–±–µ "–û–ø–µ—Ä–∞—Ç–æ—Ä—ã" –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –∑–∞–ø–∏—Å–∏, —Ö–æ—Ç—è API –≤–æ–∑–≤—Ä–∞—â–∞–ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

## üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê

### API –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
curl -b cookies.txt "http://localhost:8000/api/v1/partners/7/operators"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: API –≤–æ–∑–≤—Ä–∞—â–∞–ª 2 –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤:
- –û–ø–µ—Ä–∞—Ç–æ—Ä ID=4: "–¢–µ—Å—Ç –û–ø–µ—Ä–∞—Ç–æ—Ä" (–∞–∫—Ç–∏–≤–Ω—ã–π, 2 –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è)
- –û–ø–µ—Ä–∞—Ç–æ—Ä ID=5: "–¢–µ—Å—Ç2 –û–ø–µ—Ä–∞—Ç–æ—Ä2" (–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–π, 0 –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π)

### –ö–æ—Ä–Ω–µ–≤–∞—è –ü—Ä–∏—á–∏–Ω–∞
–û–±–Ω–∞—Ä—É–∂–µ–Ω **–∫–æ–Ω—Ñ–ª–∏–∫—Ç –º–µ–∂–¥—É –¥–≤—É–º—è RTK Query –∑–∞–ø—Ä–æ—Å–∞–º–∏**:

1. **PartnerFormPage.tsx**: 
   - `useGetOperatorsByPartnerQuery({ partnerId }, { skip: !isEdit })`
   - –ó–∞–ø—Ä–æ—Å —Å —É—Å–ª–æ–≤–∏–µ–º `skip` - –Ω–µ –≤—ã–ø–æ–ª–Ω—è–ª—Å—è –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö

2. **PartnerOperatorsManager.tsx**:
   - `useGetOperatorsByPartnerQuery({ partnerId, search, isActive, servicePointSearch })`
   - –ó–∞–ø—Ä–æ—Å –±–µ–∑ —É—Å–ª–æ–≤–∏—è `skip` - –≤—ã–ø–æ–ª–Ω—è–ª—Å—è –≤—Å–µ–≥–¥–∞

**–ö–æ–Ω—Ñ–ª–∏–∫—Ç**: –î–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø—ã—Ç–∞–ª–∏—Å—å —É–ø—Ä–∞–≤–ª—è—Ç—å –æ–¥–Ω–∏–º–∏ –∏ —Ç–µ–º–∏ –∂–µ –¥–∞–Ω–Ω—ã–º–∏ —á–µ—Ä–µ–∑ —Ä–∞–∑–Ω—ã–µ RTK Query —Ö—É–∫–∏.

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –î—É–±–ª–∏—Ä—É—é—â–µ–≥–æ –ó–∞–ø—Ä–æ—Å–∞
**–§–∞–π–ª**: `tire-service-master-web/src/pages/partners/PartnerFormPage.tsx`

```typescript
// –£–ë–†–ê–ù–û - –¥—É–±–ª–∏—Ä—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å
// const { data: operators = [], isLoading: operatorsLoading, refetch: refetchOperators } = useGetOperatorsByPartnerQuery({ partnerId }, { skip: !isEdit });

// –î–û–ë–ê–í–õ–ï–ù–û - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
// PartnerOperatorsManager —Å–∞–º –∑–∞–≥—Ä—É–∂–∞–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤, –ø–æ—ç—Ç–æ–º—É –∑–¥–µ—Å—å –∑–∞–ø—Ä–æ—Å –Ω–µ –Ω—É–∂–µ–Ω
```

### 2. –£–¥–∞–ª–µ–Ω–∏–µ –ò–∑–±—ã—Ç–æ—á–Ω—ã—Ö –í—ã–∑–æ–≤–æ–≤ refetchOperators
–ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ –≤—ã–∑–æ–≤—ã:
```typescript
// –ë–´–õ–û
refetchOperators();

// –°–¢–ê–õ–û
// PartnerOperatorsManager —Å–∞–º –æ–±–Ω–æ–≤–∏—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ onOperatorChange
```

### 3. –£–ø—Ä–æ—â–µ–Ω–∏–µ Callback onOperatorChange
```typescript
// –ë–´–õ–û
onOperatorChange={() => {
  refetchOperators();
}}

// –°–¢–ê–õ–û
onOperatorChange={() => {
  console.log('–û–ø–µ—Ä–∞—Ç–æ—Ä—ã –∏–∑–º–µ–Ω–µ–Ω—ã');
}}
```

### 4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –û—à–∏–±–æ–∫ –ö–æ–º–ø–∏–ª—è—Ü–∏–∏
–£–±—Ä–∞–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
```typescript
// –£–ë–†–ê–ù–û
if (operators) {
  refetchOperators();
}
```

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢

### ‚úÖ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –£–ª—É—á—à–µ–Ω–∏—è
- **–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã**: –¢–æ–ª—å–∫–æ `PartnerOperatorsManager` —É–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
- **–£—Å—Ç—Ä–∞–Ω–µ–Ω –∫–æ–Ω—Ñ–ª–∏–∫—Ç RTK Query**: –ù–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–£–ø—Ä–æ—â–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –£–±—Ä–∞–Ω–∞ –∏–∑–±—ã—Ç–æ—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ TypeScript**: –ü—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

### ‚úÖ UX –£–ª—É—á—à–µ–Ω–∏—è  
- –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ `/admin/partners/7/edit`
- –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ (–ø–æ–∏—Å–∫, —Å—Ç–∞—Ç—É—Å, —Å–µ—Ä–≤–∏—Å–Ω—ã–µ —Ç–æ—á–∫–∏)
- –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π (—Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ)
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π

## üìä –ê–†–•–ò–¢–ï–ö–¢–£–†–ê "–î–û" vs "–ü–û–°–õ–ï"

### –î–û (–ü—Ä–æ–±–ª–µ–º–Ω–∞—è)
```
PartnerFormPage
‚îú‚îÄ‚îÄ useGetOperatorsByPartnerQuery (skip: !isEdit) ‚ùå
‚îî‚îÄ‚îÄ PartnerOperatorsManager
    ‚îî‚îÄ‚îÄ useGetOperatorsByPartnerQuery (–±–µ–∑ skip) ‚ùå
    
–ö–û–ù–§–õ–ò–ö–¢: –î–≤–∞ –∑–∞–ø—Ä–æ—Å–∞ ‚Üí –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
```

### –ü–û–°–õ–ï (–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è)
```
PartnerFormPage
‚îî‚îÄ‚îÄ PartnerOperatorsManager
    ‚îî‚îÄ‚îÄ useGetOperatorsByPartnerQuery (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π) ‚úÖ
    
–°–¢–ê–ë–ò–õ–¨–ù–û–°–¢–¨: –û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å ‚Üí –Ω–∞–¥–µ–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
```

## üîß –ö–û–ú–ú–ò–¢–´

1. **e1195e3**: üîç –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
2. **7f17aad**: üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ - —É–±—Ä–∞–Ω –¥—É–±–ª–∏—Ä—É—é—â–∏–π API –∑–∞–ø—Ä–æ—Å  
3. **8ffbbe4**: üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ - —É–±—Ä–∞–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ operators

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### API –£—Ä–æ–≤–µ–Ω—å ‚úÖ
- `/api/v1/partners/7/operators` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç: `?search=`, `?is_active=`, `?service_point_search=`
- –í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç

### Frontend –£—Ä–æ–≤–µ–Ω—å ‚úÖ  
- –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Ç–∞–±–µ "–û–ø–µ—Ä–∞—Ç–æ—Ä—ã"
- –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- ActionsMenu —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

## üéâ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

–ü—Ä–æ–±–ª–µ–º–∞ **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞**. –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/admin/partners/7/edit`. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É–ø—Ä–æ—â–µ–Ω–∞ –∏ —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ RTK Query –∑–∞–ø—Ä–æ—Å–æ–≤.

**–ö–ª—é—á–µ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ**: –û–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (`PartnerOperatorsManager`) - –æ–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö - —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞.