# üé® –û—Ç—á–µ—Ç: –î–æ—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## üìã –û–±–∑–æ—Ä –¥–æ—Ä–∞–±–æ—Ç–æ–∫

**–î–∞—Ç–∞**: 22.01.2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û** - –ü–æ–ª–Ω–∞—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞ UI/UX  
**–°—Ç—Ä–∞–Ω–∏—Ü—ã**: `/admin/notifications/email-templates` + —Ñ–æ—Ä–º—ã

---

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### ‚úÖ 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ EmailTemplatesPageSimple.tsx

#### üé® **–í–∏–∑—É–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- **–ò–∫–æ–Ω–∫–∏ –∫–∞–Ω–∞–ª–æ–≤**: Email (üìß), Telegram (üì±), Push (üîî)
- **–¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ**: primary (—Å–∏–Ω–∏–π) –¥–ª—è Email, info (–≥–æ–ª—É–±–æ–π) –¥–ª—è Telegram, success (–∑–µ–ª–µ–Ω—ã–π) –¥–ª—è Push
- **–ü–∏–∫—Ç–æ–≥—Ä–∞–º–º—ã –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö**: –∏–∫–æ–Ω–∫–∞ –∫–∞–Ω–∞–ª–∞ —Ä—è–¥–æ–º —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º —à–∞–±–ª–æ–Ω–∞
- **–£–ª—É—á—à–µ–Ω–Ω—ã–µ Chip –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: –∫–∞–Ω–∞–ª —Å –∏–∫–æ–Ω–∫–æ–π –∏ —Ü–≤–µ—Ç–æ–º

#### üîç **–ù–æ–≤—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã:**
- **–§–∏–ª—å—Ç—Ä –ø–æ –∫–∞–Ω–∞–ª–∞–º**: "–í—Å–µ –∫–∞–Ω–∞–ª—ã", "Email", "Telegram", "Push"
- **–ö–Ω–æ–ø–∫–∞ "–°–±—Ä–æ—Å–∏—Ç—å"**: –æ—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞**: 3-2-3-2-2 –∫–æ–ª–æ–Ω–∫–∏ –¥–ª—è –ª—É—á—à–µ–≥–æ UX

#### üìä **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç—å:**
- **–ó–∞–≥–æ–ª–æ–≤–æ–∫ –æ–±–Ω–æ–≤–ª–µ–Ω**: "–®–∞–±–ª–æ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π" –≤–º–µ—Å—Ç–æ "Email —à–∞–±–ª–æ–Ω—ã"
- **–û–ø–∏—Å–∞–Ω–∏–µ**: "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –≤—Å–µ—Ö –∫–∞–Ω–∞–ª–æ–≤"
- **–°—á–µ—Ç—á–∏–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö**: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ —à–∞–±–ª–æ–Ω–µ
- **–£—Å–ª–æ–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–º—ã**: —Ç–æ–ª—å–∫–æ –¥–ª—è Email —à–∞–±–ª–æ–Ω–æ–≤

### ‚úÖ 2. –î–æ—Ä–∞–±–æ—Ç–∫–∞ EmailTemplateFormPage.tsx

#### üéõÔ∏è **–ù–æ–≤—ã–µ –ø–æ–ª—è —Ñ–æ—Ä–º—ã:**
- **–°–µ–ª–µ–∫—Ç –∫–∞–Ω–∞–ª–∞**: –≤—ã–±–æ—Ä –º–µ–∂–¥—É Email, Telegram, Push —Å —ç–º–æ–¥–∑–∏
- **–£—Å–ª–æ–≤–Ω–æ–µ –ø–æ–ª–µ —Ç–µ–º—ã**: –∞–∫—Ç–∏–≤–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è Email –∫–∞–Ω–∞–ª–∞
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ª–µ–π–±–ª—ã**: —Ä–∞–∑–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤
- **–£–º–Ω—ã–µ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã**: –ø–æ–¥—Å–∫–∞–∑–∫–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞

#### üîß **–õ–æ–≥–∏–∫–∞ —Ñ–æ—Ä–º—ã:**
```typescript
// –£—Å–ª–æ–≤–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–º—ã
subject: Yup.string().when('channel_type', {
  is: 'email',
  then: (schema) => schema.required('–¢–µ–º–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è Email'),
  otherwise: (schema) => schema.notRequired()
})

// –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ª–µ–π–±–ª—ã
label={
  formik.values.channel_type === 'email' 
    ? '–¢–µ–ª–æ –ø–∏—Å—å–º–∞' 
    : formik.values.channel_type === 'telegram'
    ? '–¢–µ–∫—Å—Ç Telegram —Å–æ–æ–±—â–µ–Ω–∏—è'
    : '–¢–µ–∫—Å—Ç Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è'
}
```

#### üìù **–ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –ø–æ –∫–∞–Ω–∞–ª–∞–º:**
- **Email**: "HTML —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∏—Å—å–º–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ {variable_name}"
- **Telegram**: "–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ {variable_name} –∏ —ç–º–æ–¥–∑–∏"
- **Push**: "–ö—Ä–∞—Ç–∫–∏–π —Ç–µ–∫—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ {variable_name}"

---

## üé® UI/UX —É–ª—É—á—à–µ–Ω–∏—è

### üì± **–ö–∞—Ä—Ç–æ—á–∫–∏ —à–∞–±–ª–æ–Ω–æ–≤:**
```tsx
<Box display="flex" alignItems="center" gap={1} mb={1}>
  <Typography variant="h6">{template.name}</Typography>
  {getChannelIcon(template.channel_type)}
</Box>

<Chip 
  label={getChannelName(template.channel_type)} 
  color={getChannelColor(template.channel_type)}
  variant="filled"
  icon={getChannelIcon(template.channel_type)}
/>
```

### üîç **–§–∏–ª—å—Ç—Ä—ã:**
```tsx
<Grid container spacing={2}>
  <Grid item xs={12} md={3}>
    <TextField placeholder="–ü–æ–∏—Å–∫..." />
  </Grid>
  <Grid item xs={12} md={2}>
    <Select label="–ö–∞–Ω–∞–ª">
      <MenuItem value="all">–í—Å–µ –∫–∞–Ω–∞–ª—ã</MenuItem>
      {Object.entries(availableChannels).map(...)}
    </Select>
  </Grid>
  <Grid item xs={12} md={3}>
    <Select label="–¢–∏–ø —à–∞–±–ª–æ–Ω–∞" />
  </Grid>
  <Grid item xs={12} md={2}>
    <Select label="–Ø–∑—ã–∫" />
  </Grid>
  <Grid item xs={12} md={2}>
    <Button variant="outlined">–°–±—Ä–æ—Å–∏—Ç—å</Button>
  </Grid>
</Grid>
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Helper —Ñ—É–Ω–∫—Ü–∏–∏:
```typescript
const getChannelIcon = (channelType: string) => {
  switch (channelType) {
    case 'email': return <EmailIcon />;
    case 'telegram': return <TelegramIcon />;
    case 'push': return <PushIcon />;
    default: return <EmailIcon />;
  }
};

const getChannelColor = (channelType: string) => {
  switch (channelType) {
    case 'email': return 'primary';
    case 'telegram': return 'info';
    case 'push': return 'success';
    default: return 'default';
  }
};
```

### API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
```typescript
const filters: EmailTemplateFilters = useMemo(() => ({
  search: searchQuery || undefined,
  template_type: selectedType !== 'all' ? selectedType : undefined,
  language: selectedLanguage !== 'all' ? selectedLanguage : undefined,
  channel_type: selectedChannel !== 'all' ? selectedChannel as 'email' | 'telegram' | 'push' : undefined,
  page: page + 1,
  per_page: 20,
}), [searchQuery, selectedType, selectedLanguage, selectedChannel, page]);
```

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ **–ß—Ç–æ –ø–æ–ª—É—á–∏–ª–∏:**
1. **–í–∏–∑—É–∞–ª—å–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–µ –∫–∞–Ω–∞–ª—ã**: –∫–∞–∂–¥—ã–π –∫–∞–Ω–∞–ª –∏–º–µ–µ—Ç —Å–≤–æ—é –∏–∫–æ–Ω–∫—É –∏ —Ü–≤–µ—Ç
2. **–£–¥–æ–±–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ —à–∞–±–ª–æ–Ω–æ–≤ –ø–æ –∫–∞–Ω–∞–ª—É
3. **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ —Ñ–æ—Ä–º—ã**: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª
4. **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏**: –≤—Å—è –≤–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–∞ –≤–∏–¥—É
5. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –¥–∏–∑–∞–π–Ω**: –µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å —Å–æ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º–æ–π

### üöÄ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- **–ë—ã—Å—Ç—Ä–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç —Ç–∏–ø –∫–∞–Ω–∞–ª–∞
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞**: —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã
- **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫**: —É—Å–ª–æ–≤–Ω—ã–µ –ø–æ–ª—è –∏—Å–∫–ª—é—á–∞—é—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **–õ—É—á—à–∏–π UX**: –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### Frontend:
- `src/pages/notifications/EmailTemplatesPageSimple.tsx` - –æ—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- `src/pages/notifications/EmailTemplateFormPage.tsx` - —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–∫–æ–Ω–∫–∏ –∫–∞–Ω–∞–ª–æ–≤ (EmailIcon, TelegramIcon, PushIcon)
- ‚úÖ –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞–Ω–∞–ª–∞–º –≤ UI –∏ API –∑–∞–ø—Ä–æ—Å–∞—Ö
- ‚úÖ –£—Å–ª–æ–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª–µ–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–∞–Ω–∞–ª–∞
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ª–µ–π–±–ª—ã –∏ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã
- ‚úÖ –¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–æ–≤
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–∞—Ä—Ç–æ—á–µ–∫

---

## üéä –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–°—Ç—Ä–∞–Ω–∏—Ü–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏ —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π!**

–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –ø–æ–ª—É—á–∏–ª–∏:
- üé® **–í–∏–∑—É–∞–ª—å–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** —Å –∏–∫–æ–Ω–∫–∞–º–∏ –∏ —Ü–≤–µ—Ç–∞–º–∏
- üîç **–ú–æ—â–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
- üìù **–£–º–Ω—ã–µ —Ñ–æ—Ä–º—ã** —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–º–∏ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏
- üìä **–ü–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é** –æ –∫–∞–∂–¥–æ–º —à–∞–±–ª–æ–Ω–µ

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç–µ —Å –ª—é–±—ã–º–∏ —Ç–∏–ø–∞–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π!

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å TelegramService –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–æ–≤ –∏–∑ –ë–î 