const fs = require('fs');
const path = require('path');

// Словарь для замены русских текстов на украинские
const translations = {
  // Common
  "Больше действий": "Більше дій",
  "Сохранение...": "Збереження...",
  "Все": "Усі",
  "Подтвердите действие": "Підтвердіть дію",
  "Вы уверены, что хотите выполнить это действие?": "Ви впевнені, що хочете виконати цю дію?",
  
  // Navigation
  "Панель управления": "Панель управління",
  "Записи": "Записи",
  "Клиенты": "Клієнти",
  "Партнери": "Партнери", // уже правильно
  "Отчеты": "Звіти",
  "Настройки": "Налаштування",
  "Профиль": "Профіль",
  "Регистрация": "Реєстрація",
  "База знаний": "База знань",
  "Записаться": "Записатися",
  "Калькулятор шин": "Калькулятор шин",
  
  // Auth
  "Регистрация": "Реєстрація",
  "Подтвердите пароль": "Підтвердіть пароль",
  "Забули пароль?": "Забули пароль?",
  "Запомнить меня": "Запам'ятати мене",
  "Зарегистрироваться": "Зареєструватися",
  "Уже есть аккаунт?": "Вже є акаунт?",
  "Нет аккаунта?": "Немає акаунта?",
  "Ошибка входа": "Помилка входу",
  "Ошибка регистрации": "Помилка реєстрації",
  "Неверные данные для входа": "Невірні дані для входу",
  "Вход...": "Вхід...",
  "Пользователь не найден": "Користувача не знайдено",
  "Email уже используется": "Email вже використовується",
  "Пароль слишком слабый": "Пароль занадто слабкий",
  "Ошибка сети": "Помилка мережі",
  "Ошибка сервера": "Помилка сервера",
  "Ошибка валидации": "Помилка валідації",
  "Необходимо указать логин": "Необхідно вказати логін",
  "Необходимо указать пароль": "Необхідно вказати пароль",
  "Некоректний формат email": "Некоректний формат email",
  "Некорректный формат телефона. Используйте формат: +38 (0ХХ) ХХХ-ХХ-ХХ": "Некоректний формат телефону. Використовуйте формат: +38 (0ХХ) ХХХ-ХХ-ХХ",
  
  // Language
  "Російська": "Російська", // правильно
  "Выберите язык": "Оберіть мову",
  
  // Admin - Users
  "Управление пользователями": "Управління користувачами",
  "Создать пользователя": "Створити користувача",
  "Управление пользователями (PageTable)": "Управління користувачами (PageTable)",
  "Поиск по email, имени, фамилии или номеру телефона...": "Пошук за email, ім'ям, прізвищем або номером телефону...",
  "Только активные": "Тільки активні",
  "Все пользователи": "Усі користувачі",
  "Статус пользователей": "Статус користувачів",
  "Просмотр": "Перегляд",
  "Просмотр детальной информации о пользователе": "Перегляд детальної інформації про користувача",
  "Редактировать данные пользователя": "Редагувати дані користувача",
  "Деактивировать пользователя": "Деактивувати користувача",
  "Активировать пользователя": "Активувати користувача",
  "Подтверждение изменения статуса": "Підтвердження зміни статусу",
  "Вы действительно хотите изменить статус этого пользователя?": "Ви дійсно хочете змінити статус цього користувача?",
  "Пользователь": "Користувач",
  "Не указан": "Не вказано",
  "Роль": "Роль",
  "Статус": "Статус",
  "Активен": "Активний",
  "Деактивирован": "Деактивований",
  "Подтверждения": "Підтвердження",
  "Email подтвержден": "Email підтверджено",
  "Email не подтвержден": "Email не підтверджено",
  "Телефон подтвержден": "Телефон підтверджено",
  "Телефон не подтвержден": "Телефон не підтверджено",
  "Пользователи не найдены": "Користувачів не знайдено",
  "Нет пользователей": "Немає користувачів",
  "Попробуйте изменить критерии поиска": "Спробуйте змінити критерії пошуку",
  "Создайте первого пользователя для начала работы": "Створіть першого користувача для початку роботи",
  
  // Admin - Partners
  "Создать партнера": "Створити партнера",
  "Редактировать партнера": "Редагувати партнера",
  "Поиск по названию партнера...": "Пошук за назвою партнера...",
  "Партнеры не найдены": "Партнерів не знайдено",
  "Нет партнеров": "Немає партнерів",
  "Создайте первого партнера для начала работы": "Створіть першого партнера для початку роботи",
  
  // Admin - Service Points
  "Управление сервисными точками и их настройками": "Управління сервісними точками та їх налаштуваннями",
  "Сервисные точки - {{partnerName}}": "Сервісні точки - {{partnerName}}",
  "Управление сервисными точками партнера \"{{partnerName}}\"": "Управління сервісними точками партнера \"{{partnerName}}\"",
  "Создать точку обслуживания": "Створити точку обслуговування",
  "Редактировать точку обслуживания": "Редагувати точку обслуговування",
  "Поиск по названию или адресу...": "Пошук за назвою або адресою...",
  "Точки обслуживания не найдены": "Точки обслуговування не знайдено",
  "Нет точек обслуживания": "Немає точок обслуговування",
  "Создайте первую точку обслуживания для начала работы": "Створіть першу точку обслуговування для початку роботи",
  "График не указан": "Графік не вказано",
  "Выходные": "Вихідні",
  "Редактировать сервисную точку": "Редагувати сервісну точку",
  "Деактивировать сервисную точку": "Деактивувати сервісну точку",
  "Полностью удалить сервисную точку (если нет связанных записей)": "Повністю видалити сервісну точку (якщо немає пов'язаних записів)",
  "Для создания сервисной точки необходимо выбрать партнера": "Для створення сервісної точки необхідно обрати партнера",
  "Произошла ошибка при удалении сервисной точки": "Сталася помилка при видаленні сервісної точки",
  "Невозможно удалить сервисную точку из-за связанных записей": "Неможливо видалити сервісну точку через пов'язані записи",
  "Сервисная точка \"{{name}}\" деактивирована. {{message}}": "Сервісна точка \"{{name}}\" деактивована. {{message}}",
  "Сервисная точка \"{{name}}\" полностью удалена из системы.": "Сервісна точка \"{{name}}\" повністю видалена з системи.",
  
  // Admin - Car Brands
  "Бренды автомобилей": "Бренди автомобілів",
  "Добавить бренд": "Додати бренд",
  "Редактировать бренд": "Редагувати бренд",
  "Поиск по названию бренда...": "Пошук за назвою бренду...",
  "Бренды не найдены": "Бренди не знайдено",
  "Нет брендов автомобилей": "Немає брендів автомобілів",
  "Создайте первый бренд автомобиля для начала работы": "Створіть перший бренд автомобіля для початку роботи",
  
  // Admin - Regions
  "Добавить регион": "Додати регіон",
  "Редактировать регион": "Редагувати регіон",
  "Поиск по названию региона...": "Пошук за назвою регіону...",
  "Регионы не найдены": "Регіони не знайдено",
  "Нет регионов": "Немає регіонів",
  "Добавьте первый регион в систему": "Додайте перший регіон в систему",
  
  // Admin - Services
  "Категории услуг": "Категорії послуг",
  "Добавить категорию": "Додати категорію",
  "Редактировать категорию": "Редагувати категорію",
  "Поиск по названию категории...": "Пошук за назвою категорії...",
  "Категории не найдены": "Категорії не знайдено",
  "Нет категорий услуг": "Немає категорій послуг",
  "Создайте первую категорию для начала работы": "Створіть першу категорію для початку роботи",
  
  // Admin - Page Content
  "Управление контентом": "Управління контентом",
  
  // Filters
  "Все регионы": "Усі регіони",
  "Все города": "Усі міста",
  "Все партнеры": "Усі партнери",
  "Все статусы": "Усі статуси",
  "Выберите регион": "Оберіть регіон",
  "Выберите город": "Оберіть місто",
  "Выберите партнера": "Оберіть партнера",
  "Выберите статус": "Оберіть статус",
  "Регион": "Регіон",
  "Город": "Місто",
  "Партнер": "Партнер",
  "Статус активности": "Статус активності",
  "Статус работы": "Статус роботи",
  "Активные": "Активні",
  "Неактивные": "Неактивні",
  "Работает": "Працює",
  "Временно закрыто": "Тимчасово закрито",
  "Приостановлено": "Призупинено",
  
  // Table columns
  "Сервисная точка": "Сервісна точка",
  "Область / Город": "Область / Місто",
  "График работы": "Графік роботи",
  "Действия": "Дії",
  "Название": "Назва",
  "Адрес": "Адреса",
  "Телефон": "Телефон",
  "Регион / Город": "Регіон / Місто",
  "Рабочие часы": "Робочі години",
  
  // Status labels
  "Активный": "Активний",
  "Неактивный": "Неактивний",
  "Рабочий": "Робочий",
  "Временно закрытый": "Тимчасово закритий",
  "Приостановленный": "Призупинений",
  
  // Notifications
  "Успешно создано": "Успішно створено",
  "Успешно обновлено": "Успішно оновлено",
  "Успешно удалено": "Успішно видалено",
  "Ошибка при создании": "Помилка при створенні",
  "Ошибка при обновлении": "Помилка при оновленні",
  "Ошибка при удалении": "Помилка при видаленні"
};

function fixUkrainianTranslations() {
  const ukFilePath = path.join(__dirname, '../../src/i18n/locales/uk.json');
  
  console.log('🔧 Исправляю украинские переводы...');
  
  try {
    // Читаем файл
    let ukContent = fs.readFileSync(ukFilePath, 'utf8');
    
    let replacementCount = 0;
    
    // Заменяем русские тексты на украинские
    for (const [russian, ukrainian] of Object.entries(translations)) {
      const regex = new RegExp(`"${russian.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')}"`, 'g');
      const matches = ukContent.match(regex);
      if (matches) {
        ukContent = ukContent.replace(regex, `"${ukrainian}"`);
        replacementCount += matches.length;
        console.log(`✅ Заменено: "${russian}" → "${ukrainian}" (${matches.length} раз)`);
      }
    }
    
    // Сохраняем исправленный файл
    fs.writeFileSync(ukFilePath, ukContent, 'utf8');
    
    console.log(`\n🎉 Украинские переводы исправлены!`);
    console.log(`📊 Всего замен: ${replacementCount}`);
    console.log(`📁 Файл: ${ukFilePath}`);
    
  } catch (error) {
    console.error('❌ Ошибка при исправлении переводов:', error);
    process.exit(1);
  }
}

// Запускаем исправление
fixUkrainianTranslations(); 