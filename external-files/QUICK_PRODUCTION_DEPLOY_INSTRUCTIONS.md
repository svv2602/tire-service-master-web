# üöÄ –ë–´–°–¢–†–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –î–ï–ü–õ–û–Æ –í –ü–†–û–î–ê–ö–®–ï–ù

## ‚ö° –ù–ï–ú–ï–î–õ–ï–ù–ù–û–ï –†–ï–®–ï–ù–ò–ï WEBSOCKET –û–®–ò–ë–û–ö

### üéØ –ù–∞ –≤–∞—à–µ–º –ø—Ä–æ–¥–∞–∫—à–µ–Ω —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd tire-service-master-web

# 2. –°–æ–∑–¥–∞—Ç—å production —Å–±–æ—Ä–∫—É
npm run build

# 3. –ó–∞–º–µ–Ω–∏—Ç—å development —Å–µ—Ä–≤–µ—Ä –Ω–∞ production
# ‚ùå –°–¢–ê–†–´–ô —Å–ø–æ—Å–æ–±: npm start
# ‚úÖ –ù–û–í–´–ô —Å–ø–æ—Å–æ–±: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –Ω–∏–∂–µ
```

### **üì¶ –í–ê–†–ò–ê–ù–¢ A: Docker Production (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π development –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose down

# –ó–∞–ø—É—Å—Ç–∏—Ç—å production –≤–µ—Ä—Å–∏—é
docker-compose -f docker-compose.prod.yml up --build -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker ps
curl -I http://localhost:3008/health
```

### **üåê –í–ê–†–ò–ê–ù–¢ B: –õ–æ–∫–∞–ª—å–Ω—ã–π nginx**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å serve –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
npx serve -s build -l 3008

# –ò–õ–ò –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å nginx –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
sudo cp nginx.conf /etc/nginx/sites-available/tire-service
sudo cp -r build/* /var/www/html/
sudo nginx -t && sudo systemctl reload nginx
```

### **‚ö° –í–ê–†–ò–ê–ù–¢ C: –ü—Ä—è–º–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
```bash
# –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –Ω–∞ –¥—Ä—É–≥–æ–º –ø–æ—Ä—Ç—É
npx serve -s build -l 3009

# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://your-server:3009
# ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ù–ï–¢ WebSocket –æ—à–∏–±–æ–∫
```

---

## üîç –ü–†–û–í–ï–†–ö–ê –†–ï–ó–£–õ–¨–¢–ê–¢–ê

**–û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Console:**
- ‚ùå –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: `Failed to construct 'WebSocket'`
- ‚ùå –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: `wss://service-station.tot.biz.ua:3008/ws`
- ‚úÖ –î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å: –≤–µ—Å—å –æ—Å—Ç–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

**–û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network ‚Üí WS:**
- ‚úÖ –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç–æ (–Ω–∏–∫–∞–∫–∏—Ö WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π)

---

## üìÅ –§–ê–ô–õ–´ –°–û–ó–î–ê–ù–´

1. **`docker-compose.prod.yml`** - Production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker
2. **`nginx.conf`** - –ì–æ—Ç–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è nginx (—É–∂–µ –±—ã–ª–∞)
3. **`build/`** - –ü–∞–ø–∫–∞ —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏
4. **`WEBSOCKET_PRODUCTION_SOLUTION_GUIDE.md`** - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ

---

## üÜò –ï–°–õ–ò –ß–¢–û-–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ build —Å–æ–∑–¥–∞–Ω
ls -la build/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–æ—Ä—Ç —Å–≤–æ–±–æ–¥–µ–Ω
sudo netstat -tlnp | grep 3008

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker logs tire_service_web_prod

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å –Ω—É–ª—è
docker-compose -f docker-compose.prod.yml down
docker-compose -f docker-compose.prod.yml up --build
```

---

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢

**–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
- üö´ –ù–ï–¢ WebSocket –æ—à–∏–±–æ–∫
- ‚ö° –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (2.1MB –≤–º–µ—Å—Ç–æ 15MB)
- üîí Production –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- üì± –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ HTTPS

**–í—Ä–µ–º—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è: ~5 –º–∏–Ω—É—Ç**