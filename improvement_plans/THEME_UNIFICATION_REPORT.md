# Отчет о унификации дизайн-системы

## Выполненные работы

### 1. Создана структура дизайн-системы

Разработана структура для унифицированной дизайн-системы:

```
src/
├── styles/
│   ├── theme/
│   │   ├── tokens.ts     # Все токены дизайн-системы
│   │   ├── theme.ts      # Создание темы Material UI
│   │   └── index.ts      # Экспорт всех компонентов темы
│   ├── components.ts     # Стили для компонентов (существующий)
│   └── index.ts          # Экспорт всех стилей (существующий)
├── contexts/
│   └── ThemeContext.tsx  # Контекст для управления темой
├── theme/
│   └── ThemeProvider.tsx # Провайдер темы для приложения
└── components/
    └── ui/
        └── ThemeToggle/  # Компонент переключения темы
```

### 2. Разработаны токены дизайн-системы

Создан централизованный файл с токенами дизайн-системы (`tokens.ts`), который содержит:

- Цветовую палитру для светлой и темной темы
- Типографику (шрифты, размеры, веса)
- Отступы и размеры
- Скругления углов
- Тени
- Анимации и переходы
- Z-индексы
- Размеры для компонентов
- Градиенты
- Медиа-запросы для адаптивности

### 3. Создан контекст для управления темой

Разработан `ThemeContext`, который обеспечивает:

- Переключение между светлой и темной темой
- Сохранение выбранной темы в localStorage
- Автоматическое определение предпочтений системы
- Удобный API для использования в компонентах

### 4. Обновлен компонент переключения темы

Компонент `ThemeToggle` переработан для использования нового контекста темы и токенов дизайн-системы.

### 5. Создан провайдер темы

Разработан `AppThemeProvider`, который:

- Использует новый контекст темы
- Применяет глобальные стили
- Обеспечивает согласованность темы во всем приложении

## Следующие шаги

### 1. Интеграция с приложением

- Обновить `App.tsx` для использования нового `AppThemeProvider`
- Заменить существующий механизм управления темой на новый

### 2. Миграция компонентов

- Обновить существующие компоненты для использования токенов дизайн-системы
- Заменить прямые стили на использование токенов
- Обеспечить единообразие в использовании компонентов

### 3. Настройка Storybook

- Установить и настроить Storybook
- Создать истории для базовых компонентов
- Добавить документацию по использованию компонентов

### 4. Тестирование

- Проверить корректность работы темы во всех компонентах
- Протестировать переключение между светлой и темной темой
- Убедиться в согласованности стилей

## Технические детали

### Использование токенов

```tsx
// Пример использования токенов
import { tokens } from '@/styles/theme';

const StyledComponent = styled('div')(({ theme }) => ({
  color: tokens.colors.primary.main,
  padding: tokens.spacing.md,
  borderRadius: tokens.borderRadius.sm,
}));
```

### Использование контекста темы

```tsx
// Пример использования контекста темы
import { useThemeMode } from '@/contexts/ThemeContext';

const MyComponent = () => {
  const { mode, toggleTheme } = useThemeMode();
  const isDarkMode = mode === 'dark';

  return (
    <div>
      <p>Текущая тема: {isDarkMode ? 'Темная' : 'Светлая'}</p>
      <button onClick={toggleTheme}>Переключить тему</button>
    </div>
  );
};
```

## Заключение

Проведенная работа по унификации дизайн-системы закладывает основу для создания согласованного пользовательского интерфейса. Централизация токенов и механизма управления темой упростит поддержку и развитие приложения в будущем.

Следующим шагом будет интеграция созданных компонентов в приложение и миграция существующих компонентов на использование новой дизайн-системы.