# ‚öõÔ∏è –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (tire-service-master-web)

> **–ë–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞:** –°–º. `/home/snisar/mobi_tz/.cursor/rules/PROJECT_RULES.md`

## üéØ –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è React —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- **React 18.2.0 + TypeScript 5.3.0**
- **Redux Toolkit** –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **Jest + Testing Library** –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- **ESLint + Prettier** –¥–ª—è —Å—Ç–∏–ª—è

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:
- **–ê—Ç–æ–º–∞—Ä–Ω—ã–π –¥–∏–∑–∞–π–Ω:** atoms ‚Üí molecules ‚Üí organisms ‚Üí templates
- **Custom Hooks** –¥–ª—è –ª–æ–≥–∏–∫–∏
- **RTK Query** –¥–ª—è API
- **–ö–æ–º–ø–æ–∑–∏—Ü–∏—è –Ω–∞–¥ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º**

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
```tsx
// –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
interface ButtonProps {
  children: ReactNode;
  variant?: 'primary' | 'secondary';
  onClick?: () => void;
}

export const Button: FC<ButtonProps> = memo(({ 
  children, 
  variant = 'primary',
  onClick 
}) => {
  return (
    <StyledButton variant={variant} onClick={onClick}>
      {children}
    </StyledButton>
  );
});
```

### –ü—Ä–∞–≤–∏–ª–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è:
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: `PascalCase.tsx`
- –•—É–∫–∏: `useComponentName.ts`
- –£—Ç–∏–ª–∏—Ç—ã: `camelCase.ts`
- –¢–µ—Å—Ç—ã: `ComponentName.test.tsx`

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- **90%+ –ø–æ–∫—Ä—ã—Ç–∏–µ**
- Unit —Ç–µ—Å—Ç—ã –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü
- E2E —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π

### Git workflow –≤ —ç—Ç–æ–π –ø–∞–ø–∫–µ:
```bash
# –í–°–ï–ì–î–ê —Ä–∞–±–æ—Ç–∞—Ç—å –∏–∑ —ç—Ç–æ–π –ø–∞–ø–∫–∏
cd tire-service-master-web

# –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥
npm start
npm test
npm run build
git add .
git commit -m "feat: –¥–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç"
```

## –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
### –ê–Ω–∞–ª–∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞
1. –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –Ω–æ–≤—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º:
   - –ò–∑—É—á–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
   - –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ö–æ–∂–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ
   - –í—ã—è–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
   - –û–±—Å—É–¥–∏—Ç—å —Å –∫–æ–º–∞–Ω–¥–æ–π –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø–æ—Ö–æ–∂–∏–µ —Ä–µ—à–µ–Ω–∏—è

2. –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è:
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫ –ø–æ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞–ª–∏—á–∏–µ –ø–æ—Ö–æ–∂–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
   - –°–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—â–∏–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –≤–º–µ—Å—Ç–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

### Test-Driven Development (TDD)
1. –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
   - –°–Ω–∞—á–∞–ª–∞ –Ω–∞–ø–∏—Å–∞—Ç—å failing test (Red)
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–¥ –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ (Green)
   - –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤ (Refactor)

2. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥—Ö–æ–¥–∞:
   - –õ—É—á—à–µ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
   - –ë–æ–ª–µ–µ —á–∏—Å—Ç—ã–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –∫–æ–¥
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Ç–µ—Å—Ç—ã
   - –ú–µ–Ω—å—à–µ –±–∞–≥–æ–≤ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

3. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
   - –ù–∞—á–∏–Ω–∞—Ç—å —Å –ø—Ä–æ—Å—Ç—ã—Ö —Ç–µ—Å—Ç–æ–≤
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
   - –°–ª–µ–¥–∏—Ç—å –∑–∞ –∏–∑–æ–ª—è—Ü–∏–µ–π —Ç–µ—Å—Ç–æ–≤
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å edge cases

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```
src/
‚îú‚îÄ‚îÄ components/       # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ atoms/       # –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ molecules/   # –°–æ—Å—Ç–∞–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ organisms/   # –°–ª–æ–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ templates/   # –®–∞–±–ª–æ–Ω—ã —Å—Ç—Ä–∞–Ω–∏—Ü
‚îú‚îÄ‚îÄ pages/           # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ hooks/           # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ö—É–∫–∏
‚îú‚îÄ‚îÄ store/           # Redux store –∏ —Å–ª–∞–π—Å—ã
‚îú‚îÄ‚îÄ api/             # RTK Query API
‚îú‚îÄ‚îÄ utils/           # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ types/           # TypeScript —Ç–∏–ø—ã
‚îî‚îÄ‚îÄ __tests__/       # –¢–µ—Å—Ç—ã
```

## –ü—Ä–∞–≤–∏–ª–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: `PascalCase.tsx`
- –•—É–∫–∏: `useComponentName.ts`
- –£—Ç–∏–ª–∏—Ç—ã: `camelCase.ts`
- –¢–∏–ø—ã: `PascalCase.types.ts`
- –¢–µ—Å—Ç—ã: `ComponentName.test.tsx`
- –°—Ç–∏–ª–∏: `ComponentName.styles.ts`

## –°—Ç–∏–ª—å –∫–æ–¥–∞
- –°–ª–µ–¥–æ–≤–∞—Ç—å TypeScript Style Guide
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ESLint –∏ Prettier
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏: 100 —Å–∏–º–≤–æ–ª–æ–≤
- –û—Ç—Å—Ç—É–ø: 2 –ø—Ä–æ–±–µ–ª–∞
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- Test-First –ø–æ–¥—Ö–æ–¥
- 90% –æ–±—â–µ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Jest –∏ React Testing Library
- –¢–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å edge cases

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ê—Ç–æ–º–∞—Ä–Ω—ã–π –¥–∏–∑–∞–π–Ω
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –ø—Ä–æ–ø—Å–æ–≤
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- Redux Toolkit –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- RTK Query –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API
- React Query –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- –õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ—Ä–µ–∑ useState/useReducer

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤ (useMemo, useCallback)
- –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ú–µ–º–æ–∏–∑–∞—Ü–∏—è —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞–Ω–¥–ª–∞
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## Git Flow
- –í–µ—Ç–∫–∞ `main` - —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
- Feature –≤–µ—Ç–∫–∏: `feature/<–Ω–∞–∑–≤–∞–Ω–∏–µ-—Ñ–∏—á–∏>`
- Hotfix –≤–µ—Ç–∫–∏: `hotfix/<–Ω–∞–∑–≤–∞–Ω–∏–µ>`
- Release –≤–µ—Ç–∫–∏: `release/<–≤–µ—Ä—Å–∏—è>`
- –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã —Å —á–µ—Ç–∫–∏–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ code review

## –î–µ–ø–ª–æ–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker
- CI/CD —á–µ—Ä–µ–∑ GitHub Actions
- Staging —Å—Ä–µ–¥–∞ –ø–µ—Ä–µ–¥ production
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- Sentry –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫
- Google Analytics –¥–ª—è UX
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –≤ package.json

## –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç
```tsx
// –ü—Ä–∏–º–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
import React, { memo } from 'react';
import { useTranslation } from 'react-i18next';
import type { ButtonProps } from './Button.types';
import { StyledButton } from './Button.styles';

export const Button = memo<ButtonProps>(({
  children,
  variant = 'primary',
  size = 'medium',
  onClick,
  disabled = false,
}) => {
  const { t } = useTranslation();

  return (
    <StyledButton
      variant={variant}
      size={size}
      onClick={onClick}
      disabled={disabled}
      data-testid="button"
    >
      {children}
    </StyledButton>
  );
});

Button.displayName = 'Button';
```

### –•—É–∫
```tsx
// –ü—Ä–∏–º–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ö—É–∫–∞
import { useState, useCallback } from 'react';

export const useToggle = (initialState = false) => {
  const [state, setState] = useState(initialState);

  const toggle = useCallback(() => {
    setState(prev => !prev);
  }, []);

  return [state, toggle] as const;
};
```

### –¢–µ—Å—Ç
```tsx
// –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞
import { render, screen, fireEvent } from '@testing-library/react';
import { Button } from './Button';

describe('Button', () => {
  it('—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º', () => {
    render(<Button>–ù–∞–∂–º–∏ –º–µ–Ω—è</Button>);
    expect(screen.getByText('–ù–∞–∂–º–∏ –º–µ–Ω—è')).toBeInTheDocument();
  });

  it('–≤—ã–∑—ã–≤–∞–µ—Ç onClick –ø—Ä–∏ –∫–ª–∏–∫–µ', () => {
    const handleClick = jest.fn();
    render(<Button onClick={handleClick}>–ö–Ω–æ–ø–∫–∞</Button>);
    fireEvent.click(screen.getByText('–ö–Ω–æ–ø–∫–∞'));
    expect(handleClick).toHaveBeenCalledTimes(1);
  });
});
```

### Redux Slice
```tsx
// –ü—Ä–∏–º–µ—Ä Redux slice
import { createSlice, PayloadAction } from '@reduxjs/toolkit';

interface AuthState {
  isAuthenticated: boolean;
  user: User | null;
}

const initialState: AuthState = {
  isAuthenticated: false,
  user: null,
};

export const authSlice = createSlice({
  name: 'auth',
  initialState,
  reducers: {
    setUser: (state, action: PayloadAction<User>) => {
      state.isAuthenticated = true;
      state.user = action.payload;
    },
    logout: (state) => {
      state.isAuthenticated = false;
      state.user = null;
    },
  },
});
``` 