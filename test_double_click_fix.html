<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–≤–æ–π–Ω–æ–≥–æ –∫–ª–∏–∫–∞</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 20px; 
            background: #f5f5f5;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        button { 
            padding: 12px 20px; 
            margin: 10px 5px; 
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        .primary { background: #1976d2; color: white; }
        .success { background: #4caf50; color: white; }
        .info { background: #2196f3; color: white; }
        .result { 
            margin: 10px 0; 
            padding: 10px; 
            border-radius: 4px; 
            font-family: monospace;
            white-space: pre-wrap;
        }
        .result.success { background: #e8f5e8; color: #2e7d32; }
        .result.error { background: #ffebee; color: #c62828; }
        .instructions {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîß –¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã —Å –¥–≤–æ–π–Ω—ã–º –Ω–∞–∂–∞—Ç–∏–µ–º –ø—Ä–∏ –≤—Ö–æ–¥–µ</h1>
        
        <div class="instructions">
            <h3>üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é:</h3>
            <ol>
                <li>–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞ –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ: <a href="http://localhost:3008/login" target="_blank">http://localhost:3008/login</a></li>
                <li>–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ: <strong>admin@test.com</strong> / <strong>admin123</strong></li>
                <li>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–í–æ–π—Ç–∏" –û–î–ò–ù —Ä–∞–∑</li>
                <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12), —á—Ç–æ –∑–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑</li>
                <li>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Ö–æ–¥ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –ø–µ—Ä–≤–æ–≥–æ –Ω–∞–∂–∞—Ç–∏—è</li>
            </ol>
        </div>

        <div class="section">
            <h3>üîç –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:</h3>
            <ul>
                <li>‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º ref</li>
                <li>‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç –±—ã—Å—Ç—Ä—ã—Ö –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∫–ª–∏–∫–æ–≤ (1 —Å–µ–∫—É–Ω–¥–∞)</li>
                <li>‚úÖ –£–ª—É—á—à–µ–Ω–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞–≥—Ä—É–∑–∫–∏ (local + redux)</li>
                <li>‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ ID –∑–∞–ø—Ä–æ—Å–æ–≤</li>
                <li>‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π preventDefault –∏ stopPropagation</li>
            </ul>
        </div>

        <div class="section">
            <h3>üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</h3>
            <div class="result success">
–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Å–ª–µ–¥—É—é—â–µ–µ:

[Request 1] Form submit triggered
Auth: login.pending - setting loading to true
Sending login request: {email: 'admin@test.com', password: '***'}
Login response: {...}
Auth: login.fulfilled - login successful
[Request 1] Login result: {...}
[Request 1] Cleaning up

‚ùå –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
- –î—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º ID
- –ó–∞–ø—Ä–æ—Å–∞ [Request 2] –ø—Ä–∏ –æ–¥–Ω–æ–º –Ω–∞–∂–∞—Ç–∏–∏
- –û—à–∏–±–æ–∫ "Login already in progress"
            </div>
        </div>

        <div class="section">
            <h3>üöÄ –ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏:</h3>
            <button class="primary" onclick="openLogin()">–û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞</button>
            <button class="info" onclick="openDevTools()">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ DevTools</button>
            <button class="success" onclick="checkConsole()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å</button>
        </div>

        <div class="section">
            <h3>üìù –û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏:</h3>
            <textarea id="testReport" rows="10" cols="80" placeholder="–û–ø–∏—à–∏—Ç–µ –∑–¥–µ—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è..."></textarea><br>
            <button class="success" onclick="saveReport()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç—á–µ—Ç</button>
        </div>

        <div id="result"></div>
    </div>

    <script>
        function openLogin() {
            window.open('http://localhost:3008/login', '_blank');
            showResult('‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ –æ—Ç–∫—Ä—ã—Ç–∞ –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ');
        }

        function openDevTools() {
            showResult(`
üîß –ö–∞–∫ –æ—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:

1. –í Chrome/Firefox: –Ω–∞–∂–º–∏—Ç–µ F12 –∏–ª–∏ Ctrl+Shift+I
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Console"
3. –û—á–∏—Å—Ç–∏—Ç–µ –∫–æ–Ω—Å–æ–ª—å (Ctrl+L)
4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

üîç –ù–∞ —á—Ç–æ –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º Request ID
- –ù–∞–ª–∏—á–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π "Login already in progress"
- –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ —Å –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–∞
            `);
        }

        function checkConsole() {
            showResult(`
üìã –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Å–æ–ª–∏:

‚úÖ –•–û–†–û–®–û (–æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ):
- –û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å [Request 1] Form submit triggered
- –û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å Sending login request
- –û–¥–∏–Ω –æ—Ç–≤–µ—Ç Login response
- –û–¥–∏–Ω [Request 1] Login result
- –û–¥–∏–Ω [Request 1] Cleaning up

‚ùå –ü–õ–û–•–û (–ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞):
- –î–≤–∞ –∑–∞–ø—Ä–æ—Å–∞ [Request 1] Form submit triggered
- –°–æ–æ–±—â–µ–Ω–∏—è "Login already in progress"
- –î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è API –∑–∞–ø—Ä–æ—Å—ã
- –û—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
            `);
        }

        function saveReport() {
            const report = document.getElementById('testReport').value;
            if (!report.trim()) {
                showResult('‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –æ—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏');
                return;
            }

            const timestamp = new Date().toLocaleString();
            const fullReport = `
–û–¢–ß–ï–¢ –û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ò –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –î–í–û–ô–ù–û–ì–û –ö–õ–ò–ö–ê
================================================
–î–∞—Ç–∞: ${timestamp}

${report}

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
- Frontend URL: http://localhost:3008/login
- API URL: http://localhost:8000/api/v1
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª: LoginPage.tsx
- –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è: –∑–∞—â–∏—Ç–∞ –æ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫, –≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞, —É–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
            `;

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
            localStorage.setItem('double_click_test_report', fullReport);
            
            showResult('‚úÖ –û—Ç—á–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ localStorage –±—Ä–∞—É–∑–µ—Ä–∞');
            console.log('–û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏:', fullReport);
        }

        function showResult(message) {
            const resultDiv = document.getElementById('result');
            const timestamp = new Date().toLocaleTimeString();
            resultDiv.innerHTML = `<div class="result success">[${timestamp}] ${message}</div>`;
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            showResult(`
üöÄ –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞!

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã:
- Frontend: http://localhost:3008
- Backend: http://localhost:8000

–ó–∞—Ç–µ–º –ø–µ—Ä–µ–π–¥–∏—Ç–µ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É.
            `);
        };
    </script>
</body>
</html>
